{"version":3,"sources":["../javascripts/main.js","../javascripts/i18n.js","../javascripts/dialog.js","../javascripts/player.js","../javascripts/slideshow.js","../javascripts/upload.js"],"sourcesContent":["/**\n * Created J/03/12/2009\n * Updated L/24/05/2021\n *\n * Copyright 2008-2021 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * https://www.luigifab.fr/apijs\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\nif (!Array.prototype.has) {\n\tArray.prototype.has = function (needle, key) {\n\t\tif (needle instanceof Array) {\n\t\t\tfor (key in needle) if (needle.hasOwnProperty(key)) {\n\t\t\t\tif (this.has(needle[key]))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tfor (key in this) if (this.hasOwnProperty(key)) {\n\t\t\t\tif (this[key] === needle)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n}\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n\tNodeList.prototype.forEach = function (callback, that, i) {\n\t\tthat = that || window;\n\t\tfor (i = 0; i < this.length; i++)\n\t\t\tcallback.call(that, this[i], i, this);\n\t};\n}\n\nvar apijs = new (function () {\n\n\t\"use strict\";\n\tthis.core = {};\n\tthis.version = 670;\n\n\tthis.config = {\n\t\tlang: 'auto',\n\t\tdebug: false,\n\t\t//select: { },\n\t\tdialog: {\n\t\t\tcloseOnClick: false,\n\t\t\trestrictNavigation: true,\n\t\t\tplayer: true\n\t\t},\n\t\tslideshow: {\n\t\t\tids: 'slideshow',\n\t\t\tanchor: true\n\t\t},\n\t\tupload: {\n\t\t\ttokenName: 'X-CSRF-Token',\n\t\t\ttokenValue: null\n\t\t}\n\t};\n\n\tthis.start = function () {\n\n\t\tvar elem;\n\n\t\t// bonjour\n\t\tconsole.info('APIJS ' + this.version.toString().split('').join('.') + ' - hello - 1 MB/Mo = 1024 kB/ko');\n\t\tif (document.getElementById('oldBrowser'))\n\t\t\tthrow new Error('APIJS canceled, #oldBrowser detected!');\n\n\t\tif (elem = document.querySelector('link[href*=\"apijs/fontello.woff2\"]')) {\n\t\t\tif (elem.getAttribute('href').indexOf('?a3ab5acff3') < 0)\n\t\t\t\tconsole.error('APIJS warning invalid cachekey for link:fontello.woff2?x, it must be ?a3ab5acff3');\n\t\t}\n\t\tif (elem = document.querySelector('script[src*=\"apijs.min.js?v=\"]')) {\n\t\t\tif (elem.getAttribute('src').indexOf('?v=' + this.version) < 0)\n\t\t\t\tconsole.error('APIJS warning invalid cachekey for script:apijs.min.js?x, it must be ?v=' + this.version);\n\t\t}\n\n\t\t// instancie\n\t\tthis.i18n = new this.core.i18n();\n\t\t//this.select = new this.core.select();\n\t\tthis.dialog = new this.core.dialog();\n\t\tthis.upload = new this.core.upload();\n\t\tthis.slideshow = new this.core.slideshow();\n\t\tself.dispatchEvent(new CustomEvent('apijsbeforeload'));\n\n\t\t// démarre\n\t\tthis.i18n.init();\n\t\tthis.slideshow.init();\n\t\t//this.select.init();\n\t\tdocument.querySelectorAll('video.apijsplayer[data-src]').forEach(function (elem) {\n\t\t\tapijs.startPlayer(elem, elem.getAttribute('data-src'));\n\t\t});\n\n\t\tself.addEventListener('popstate', this.slideshow.onPopState);\n\t\tself.addEventListener('hashchange', this.slideshow.onPopState);\n\n\t\tif (this.config.debug) {\n\t\t\tconsole.info('APIJS available languages: ' + Object.keys(this.i18n.data).join(' '));\n\t\t\tconsole.info('APIJS language loaded: ' + this.config.lang);\n\t\t\tconsole.info('APIJS successfully started');\n\t\t}\n\n\t\t// événement\n\t\tself.dispatchEvent(new CustomEvent('apijsload'));\n\t};\n\n\tthis.formatNumber = function (nb, dec) {\n\n\t\t// par défaut 2 chiffres\n\t\tvar dgt = (typeof dec == 'number') ? dec : ((dec === false) ? 0 : 2), str;\n\n\t\t// Firefox 29+ pas 27+, (iOS) Safari 10+ pas 9+\n\t\ttry {\n\t\t\tstr = new Intl.NumberFormat(this.config.lang, { minimumFractionDigits: dgt, maximumFractionDigits: dgt }).format(nb);\n\t\t}\n\t\tcatch (ignore) {\n\t\t\tstr = nb.toFixed(dgt);\n\t\t}\n\n\t\t// conserve 00 si on veut vraiment 2 chiffres\n\t\treturn (typeof dec == 'number') ? str : str.replace(/[.,]00$/, '');\n\t};\n\n\tthis.startPlayer = function (elem, url) {\n\n\t\tif (this.config.dialog.player === true) {\n\t\t\telem.videoPlayer = new this.core.player(elem, url);\n\t\t\telem.parentNode.classList.add('apijsvideoplayer');\n\t\t\treturn true;\n\t\t}\n\n\t\tif (typeof this.config.dialog.player == 'function') {\n\t\t\tthis.config.dialog.player(elem, url);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tthis.toArray = function (data) {\n\t\treturn Array.prototype.slice.call(data, 0);\n\t};\n\n\tthis.openTab = function (ev) {\n\t\tev.preventDefault();\n\t\tif (this.href.length > 0)\n\t\t\tself.open(this.href);\n\t};\n\n\tthis.log = function (txt) {\n\t\tif (this.config.debug)\n\t\t\tconsole.info('APIJS ' + txt);\n\t};\n\n\tthis.html = function (selector, id) {\n\t\tif ((id === true) || (selector.indexOf('#') === 0))\n\t\t\treturn document.getElementById(selector.replace('#', 'apijs'));\n\t\telse if (this.dialog.t1)\n\t\t\treturn this.dialog.t1.querySelector(selector);\n\t\telse\n\t\t\treturn null;\n\t};\n\n\tthis.requestFullscreen = function (elem) {\n\t\tif (document.webkitFullscreenElement)\n\t\t\tdocument.webkitCancelFullScreen();\n\t\telse if (document.mozFullScreenElement)\n\t\t\tdocument.mozCancelFullScreen();\n\t\telse if (document.fullscreenElement)\n\t\t\tdocument.cancelFullScreen();\n\t\telse if (elem.webkitRequestFullscreen)\n\t\t\telem.webkitRequestFullscreen();\n\t\telse if (elem.requestFullscreen)\n\t\t\telem.requestFullscreen();\n\t\telse if (elem.mozRequestFullScreen)\n\t\t\telem.mozRequestFullScreen();\n\t};\n\n\tthis.serialize = function (form, filter) {\n\n\t\tvar data = [];\n\t\tfilter   = (typeof filter == 'string') ? filter : '';\n\n\t\t// https://gomakethings.com/how-to-serialize-form-data-with-vanilla-js/\n\t\tArray.prototype.forEach.call(form.elements, function (elem, idx) {\n\n\t\t\tif (!elem.name || elem.disabled || ['file', 'reset', 'submit', 'button'].has(elem.type) || (elem.name.indexOf(filter) !== 0))\n\t\t\t\treturn;\n\n\t\t\tif (elem.type === 'select-multiple') {\n\t\t\t\tfor (idx = 0; idx < elem.options.length; idx++) {\n\t\t\t\t\tif (elem.options[idx].selected)\n\t\t\t\t\t\tdata.push(encodeURIComponent(elem.name) + '=' + encodeURIComponent(elem.options[idx].value));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (!['checkbox', 'radio'].has(elem.type) || elem.checked) {\n\t\t\t\tdata.push(encodeURIComponent(elem.name) + '=' + encodeURIComponent(elem.value));\n\t\t\t}\n\t\t});\n\n\t\treturn data.join('&');\n\t};\n\n})();\n\nif (typeof self.addEventListener == 'function')\n\tself.addEventListener('load', apijs.start.bind(apijs));","/**\n * Created S/05/06/2010\n * Updated V/01/01/2021\n *\n * Copyright 2008-2021 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * https://www.luigifab.fr/apijs\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\napijs.core.i18n = function () {\n\n\t\"use strict\";\n\tthis.data = {\n\t\t// https://docs.google.com/spreadsheets/d/1UUpKZ-YAAlcfvGHYwt6aUM9io390j0-fIL0vMRh1pW0/edit?usp=sharing\n\t\t// auto start\n\t\tcs: {\n\t\t\t103: \"Zrušit\",\n\t\t\t104: \"Potvrzení\",\n\t\t\t105: \"Zavřít\",\n\t\t\t106: \"Předchozí\",\n\t\t\t107: \"Následující\",\n\t\t\t132: \"video stopa\",\n\t\t\t133: \"zvuková stopa\",\n\t\t\t134: \"titulky\",\n\t\t\t142: \"předchozí/následující\",\n\t\t\t144: \"zpět/vpřed\",\n\t\t\t146: \"ztlumit\",\n\t\t\t149: \"Konec\",\n\t\t\t150: \"Esc\"\n\t\t},\n\t\tde: {\n\t\t\t103: \"Abbrechen\",\n\t\t\t104: \"Bestätigen\",\n\t\t\t105: \"Schließen\",\n\t\t\t106: \"Vorheriges\",\n\t\t\t107: \"Nächstes\",\n\t\t\t108: \"Datei wählen\",\n\t\t\t109: \"Dateien wählen\",\n\t\t\t124: \"Verarbeitung läuft...\",\n\t\t\t132: \"videospur\",\n\t\t\t133: \"audiospur\",\n\t\t\t134: \"untertitel\",\n\t\t\t142: \"vorheriges/nächstes\",\n\t\t\t143: \"wiedergabe/pause\",\n\t\t\t144: \"rückwärts/vorwärts\",\n\t\t\t145: \"leiser/lauter\",\n\t\t\t146: \"ton aus\",\n\t\t\t147: \"vollbild\",\n\t\t\t148: \"beenden\",\n\t\t\t149: \"Ende\",\n\t\t\t150: \"Esc\",\n\t\t\t161: \"Alle Dateien wurden akzeptiert.\",\n\t\t\t162: \"Akzeptiertes Dateiformat: §.\",\n\t\t\t163: \"Akzeptiertes Dateiformate: § und §.\",\n\t\t\t164: \"Maximale Größe: § MB.\",\n\t\t\t167: \"Unerlaubtes Format\",\n\t\t\t168: \"Format zu gross\",\n\t\t\t169: \"Leere Datei\",\n\t\t\t181: \"§% - § kB/s - Noch § Minuten\",\n\t\t\t182: \"§% - § kB/s - Noch § Minute\",\n\t\t\t183: \"§% - § kB/s - Noch § Sekunden\",\n\t\t\t185: \"§% - bis § kB/s in § Minuten\",\n\t\t\t186: \"§% - bis § kB/s in § Minute\",\n\t\t\t187: \"§% - bis § kB/s in § Sekunden\",\n\t\t\t188: \"§% - bis § kB/s\",\n\t\t\t191: \"Abbrechen\",\n\t\t\t192: \"Sind Sie sicher? [span]Ja[/span] - Nein\",\n\t\t\t193: \"Es ist ein unerwarteter Fehler aufgetreten... Bitte versuchen Sie es noch einmal.\",\n\t\t\t194: \"Es ist ein Fehler beim Senden.\",\n\t\t\t195: \"Es ist ein Fehler bei der Verarbeitung.\",\n\t\t\t196: \"Wir laden Sie ein es erneut zu [a §]versuchen[/a].\"\n\t\t},\n\t\ten: {\n\t\t\t102: \"Ok\",\n\t\t\t103: \"Cancel\",\n\t\t\t104: \"Confirm\",\n\t\t\t105: \"Close\",\n\t\t\t106: \"Previous\",\n\t\t\t107: \"Next\",\n\t\t\t108: \"Choose a file\",\n\t\t\t109: \"Choose one or multiple files\",\n\t\t\t124: \"Operation in progress...\",\n\t\t\t125: \"Upload in progress...\",\n\t\t\t126: \"Processing file in progress...\",\n\t\t\t127: \"Drag and drop your files here\",\n\t\t\t131: \"video\",\n\t\t\t132: \"video track\",\n\t\t\t133: \"audio track\",\n\t\t\t134: \"subtitles\",\n\t\t\t135: \"off\",\n\t\t\t141: \"first/last\",\n\t\t\t142: \"previous/next\",\n\t\t\t143: \"play/pause\",\n\t\t\t144: \"backward/forward\",\n\t\t\t145: \"decrease/increase the volume\",\n\t\t\t146: \"mute\",\n\t\t\t147: \"full screen\",\n\t\t\t148: \"quit\",\n\t\t\t149: \"End\",\n\t\t\t150: \"Escape\",\n\t\t\t161: \"All files are accepted.\",\n\t\t\t162: \"Accepted file format: §.\",\n\t\t\t163: \"Accepted file formats: § and §.\",\n\t\t\t164: \"Maximum size: § MB.\",\n\t\t\t165: \"Maximum size by file: § MB.|Total maximum size: § MB.\",\n\t\t\t166: \"§ MB\",\n\t\t\t167: \"Format not allowed\",\n\t\t\t168: \"Size too large\",\n\t\t\t169: \"File empty\",\n\t\t\t181: \"§% - § kB/s - § minutes left\",\n\t\t\t182: \"§% - § kB/s - § minute left\",\n\t\t\t183: \"§% - § kB/s - § seconds left\",\n\t\t\t184: \"§% - § kB/s\",\n\t\t\t185: \"§% - at § kB/s in § minutes\",\n\t\t\t186: \"§% - at § kB/s in § minute\",\n\t\t\t187: \"§% - at § kB/s in § seconds\",\n\t\t\t188: \"§% - at § kB/s\",\n\t\t\t191: \"Interrupt\",\n\t\t\t192: \"Are you sure? [span]Yes[/span] - No\",\n\t\t\t193: \"It seems that an unlikely mistake just happened... Please try again.\",\n\t\t\t194: \"An error occurred while sending.\",\n\t\t\t195: \"An error occurred while processing.\",\n\t\t\t196: \"We invite you to [a §]try again[/a].\"\n\t\t},\n\t\tes: {\n\t\t\t102: \"Aceptar\",\n\t\t\t103: \"Cancelar\",\n\t\t\t104: \"Confirmar\",\n\t\t\t105: \"Cerrar\",\n\t\t\t106: \"Anterior\",\n\t\t\t107: \"Siguiente\",\n\t\t\t108: \"Elegir un fichero\",\n\t\t\t109: \"Elegir uno o varios ficheros\",\n\t\t\t124: \"Operación en curso...\",\n\t\t\t125: \"Envío en progreso...\",\n\t\t\t126: \"Tratamiento en curso...\",\n\t\t\t131: \"vídeo\",\n\t\t\t132: \"pista de vídeo\",\n\t\t\t133: \"pista de audio\",\n\t\t\t134: \"subtítulos\",\n\t\t\t142: \"anterior/siguiente\",\n\t\t\t143: \"reproducir/pausa\",\n\t\t\t144: \"retroceder/avanzar\",\n\t\t\t145: \"bajar/subir volumen\",\n\t\t\t146: \"silenciar\",\n\t\t\t147: \"pantalla completa\",\n\t\t\t148: \"salir\",\n\t\t\t149: \"Fin\",\n\t\t\t150: \"Esc\",\n\t\t\t161: \"Se aceptan todos los archivos.\",\n\t\t\t162: \"Formato de archivo aceptado: §.\",\n\t\t\t163: \"Formatos de archivos aceptados: § y §.\",\n\t\t\t164: \"Tamaño máximo: § MB.\",\n\t\t\t165: \"Tamaño máximo por fichero: § Mo.|Tamaño máximo total: § Mo.\",\n\t\t\t167: \"Formato no autorizado\",\n\t\t\t168: \"Tamaño demasiado importante\",\n\t\t\t169: \"Fichero vacío\",\n\t\t\t181: \"§% - § kB/s - § minutos restantes\",\n\t\t\t182: \"§% - § kB/s - § minuto restantes\",\n\t\t\t183: \"§% - § kB/s - § segundos restantes\",\n\t\t\t185: \"§% - a § kB/s en § minutos\",\n\t\t\t186: \"§% - a § kB/s en § minuto\",\n\t\t\t187: \"§% - a § kB/s en § segundos\",\n\t\t\t188: \"§% - a § kB/s\",\n\t\t\t191: \"Interrumpir\",\n\t\t\t192: \"¿Está seguro(a)? [span]Sí[/span] - No\",\n\t\t\t193: \"Parece que un error improbable acabo de ocurrir... Por favor, inténtelo de nuevo.\",\n\t\t\t194: \"Se produjo un error durante el envío.\",\n\t\t\t195: \"Se produjo un error durante el procesamiento.\",\n\t\t\t196: \"Le invitamos a [a §]intentar de nuevo[/a].\"\n\t\t},\n\t\tfr: {\n\t\t\t103: \"Annuler\",\n\t\t\t104: \"Valider\",\n\t\t\t105: \"Fermer\",\n\t\t\t106: \"Précédent\",\n\t\t\t107: \"Suivant\",\n\t\t\t108: \"Choisir un fichier\",\n\t\t\t109: \"Choisir un ou plusieurs fichiers\",\n\t\t\t124: \"Opération en cours...\",\n\t\t\t125: \"Envoi en cours...\",\n\t\t\t126: \"Traitement en cours...\",\n\t\t\t127: \"Faites glisser et déposez vos fichiers ici\",\n\t\t\t131: \"vidéo\",\n\t\t\t132: \"piste vidéo\",\n\t\t\t133: \"piste audio\",\n\t\t\t134: \"sous-titres\",\n\t\t\t141: \"premier/dernier\",\n\t\t\t142: \"précédent/suivant\",\n\t\t\t143: \"lecture/pause\",\n\t\t\t144: \"reculer/avancer\",\n\t\t\t145: \"réduire/augmenter le volume\",\n\t\t\t146: \"couper le son\",\n\t\t\t147: \"plein écran\",\n\t\t\t148: \"quitter\",\n\t\t\t149: \"Fin\",\n\t\t\t150: \"Échap\",\n\t\t\t161: \"Tous les fichiers sont acceptés.\",\n\t\t\t162: \"Format de fichier accepté : §.\",\n\t\t\t163: \"Formats de fichier acceptés : § et §.\",\n\t\t\t164: \"Taille maximale : § Mo.\",\n\t\t\t165: \"Taille maximale par fichier : § Mo.|Taille maximale total : § Mo.\",\n\t\t\t166: \"§ Mo\",\n\t\t\t167: \"Format non autorisé\",\n\t\t\t168: \"Taille trop importante\",\n\t\t\t169: \"Fichier vide\",\n\t\t\t181: \"§% - § ko/s - § minutes restantes\",\n\t\t\t182: \"§% - § ko/s - § minute restante\",\n\t\t\t183: \"§% - § ko/s - § secondes restantes\",\n\t\t\t184: \"§% - § ko/s\",\n\t\t\t185: \"§% - à § ko/s en § minutes\",\n\t\t\t186: \"§% - à § ko/s en § minute\",\n\t\t\t187: \"§% - à § ko/s en § secondes\",\n\t\t\t188: \"§% - à § ko/s\",\n\t\t\t191: \"Interrompre\",\n\t\t\t192: \"Êtes-vous sûr(e) ? [span]Oui[/span] - Non\",\n\t\t\t193: \"Il semblerait qu'une erreur improbable vient de se produire... Veuillez réessayer.\",\n\t\t\t194: \"Une erreur est survenue lors de l'envoi.\",\n\t\t\t195: \"Une erreur est survenue lors du traitement.\",\n\t\t\t196: \"Nous vous invitons à [a §]réessayer[/a].\"\n\t\t},\n\t\tit: {\n\t\t\t103: \"Annulla\",\n\t\t\t104: \"Conferma\",\n\t\t\t105: \"Chiudi\",\n\t\t\t106: \"Precedente\",\n\t\t\t107: \"Successivo\",\n\t\t\t108: \"Scegli un file\",\n\t\t\t109: \"Scegli uno o più file\",\n\t\t\t124: \"Operazione in corso...\",\n\t\t\t125: \"Invio in corso...\",\n\t\t\t126: \"Trattamento in corso...\",\n\t\t\t132: \"traccia video\",\n\t\t\t133: \"traccia audio\",\n\t\t\t134: \"sottotitoli\",\n\t\t\t142: \"precedente/successivo\",\n\t\t\t143: \"riproduci/pausa\",\n\t\t\t144: \"indietro/avanti\",\n\t\t\t145: \"riduci/aumenta volume\",\n\t\t\t146: \"silenzio\",\n\t\t\t147: \"schermo intero\",\n\t\t\t148: \"esci\",\n\t\t\t149: \"Fine\",\n\t\t\t150: \"Esc\",\n\t\t\t161: \"Tutti i file sono accettati.\",\n\t\t\t162: \"Formato del file accettato: §.\",\n\t\t\t163: \"Formati accettati: § et §.\",\n\t\t\t164: \"Dimensione massima: § MB.\",\n\t\t\t167: \"Formato non autorizzato\",\n\t\t\t168: \"Dimensione troppo importante\",\n\t\t\t169: \"File vuoto\",\n\t\t\t181: \"§% - § kB/s - § minuti rimanenti\",\n\t\t\t182: \"§% - § kB/s - § minuto rimanente\",\n\t\t\t183: \"§% - § kB/s - § secondi rimanenti\",\n\t\t\t185: \"§% - a § kB/s in § minuti\",\n\t\t\t186: \"§% - a § kB/s in § minuto\",\n\t\t\t187: \"§% - a § kB/s in § secondi\",\n\t\t\t188: \"§% - a § kB/s\",\n\t\t\t191: \"Interrompere\",\n\t\t\t192: \"Sei sicuro? [span]Si[/span] - No\",\n\t\t\t193: \"Sembra che un errore inaspettato si sia verificato... Riprova.\",\n\t\t\t194: \"Un errore si è verificato durante l'invio.\",\n\t\t\t195: \"Un errore si è verificato durante il trattamento.\",\n\t\t\t196: \"Vi invitiamo a [a §]riprovare[/a].\"\n\t\t},\n\t\tja: {\n\t\t\t103: \"キャンセル\",\n\t\t\t104: \"承認\",\n\t\t\t105: \"閉じる\",\n\t\t\t106: \"前へ\",\n\t\t\t107: \"次へ\",\n\t\t\t131: \"ビデオ\",\n\t\t\t132: \"ビデオトラック\",\n\t\t\t133: \"オーディオトラック\",\n\t\t\t134: \"字幕\",\n\t\t\t142: \"前へ/次へ\",\n\t\t\t144: \"戻る/進む\",\n\t\t\t146: \"ミュート\",\n\t\t\t147: \"全画面表示\",\n\t\t\t149: \"終了\",\n\t\t\t150: \"Esc\",\n\t\t\t166: \"§ Mo\",\n\t\t\t184: \"§% - § Ko/s\",\n\t\t\t192: \"よろしいですか？[span]はい[/span] - いいえ\"\n\t\t},\n\t\tnl: {\n\t\t\t103: \"Annuleren\",\n\t\t\t104: \"Bevestigen\",\n\t\t\t105: \"Sluiten\",\n\t\t\t106: \"Vorige\",\n\t\t\t107: \"Volgende\",\n\t\t\t132: \"videospoor\",\n\t\t\t133: \"audiospoor\",\n\t\t\t134: \"ondertitels\",\n\t\t\t142: \"vorige/volgende\",\n\t\t\t144: \"achteruit/vooruit\",\n\t\t\t145: \"volume omlaag/omhoog\",\n\t\t\t146: \"dempen\",\n\t\t\t147: \"schermvullend\",\n\t\t\t150: \"Esc\"\n\t\t},\n\t\tpl: {\n\t\t\t103: \"Anuluj\",\n\t\t\t104: \"Potwierdź\",\n\t\t\t105: \"Zamknij\",\n\t\t\t106: \"Poprzedni\",\n\t\t\t107: \"Następny\",\n\t\t\t131: \"obraz\",\n\t\t\t132: \"ścieżka obrazu\",\n\t\t\t133: \"ścieżka dźwiękowa\",\n\t\t\t134: \"napisy\",\n\t\t\t142: \"poprzedni/następny\",\n\t\t\t144: \"wstecz/przodu\",\n\t\t\t145: \"ciszej/głośniej\",\n\t\t\t146: \"wycisz\",\n\t\t\t147: \"pełny ekran\",\n\t\t\t150: \"Esc\"\n\t\t},\n\t\tpt: {\n\t\t\t103: \"Cancelar\",\n\t\t\t104: \"Confirmar\",\n\t\t\t105: \"Fechar\",\n\t\t\t106: \"Anterior\",\n\t\t\t107: \"Seguinte\",\n\t\t\t108: \"Escolher um ficheiro\",\n\t\t\t109: \"Escolher um ou vários ficheiros\",\n\t\t\t124: \"Operação em processo...\",\n\t\t\t125: \"Envio em processo...\",\n\t\t\t126: \"Tratamento em processo...\",\n\t\t\t131: \"vídeo\",\n\t\t\t132: \"faixa de vídeo\",\n\t\t\t133: \"faixa de áudio\",\n\t\t\t134: \"legendas\",\n\t\t\t142: \"anterior/seguinte\",\n\t\t\t143: \"reprodução/pausa\",\n\t\t\t144: \"recuar/avançar\",\n\t\t\t145: \"diminuir/aumentar volume\",\n\t\t\t146: \"sem som\",\n\t\t\t147: \"ecrã completo\",\n\t\t\t148: \"sair\",\n\t\t\t149: \"Fim\",\n\t\t\t150: \"Esc\",\n\t\t\t161: \"Todos os ficheiros foram aceites.\",\n\t\t\t162: \"Formato do ficheiro aceite: §.\",\n\t\t\t163: \"Formatos de ficheiro aceites: § e §.\",\n\t\t\t164: \"Tamanho máximo: § MB.\",\n\t\t\t181: \"§% - § kB/s - § minutos restantes\",\n\t\t\t182: \"§% - § kB/s - § minuto restantes\",\n\t\t\t183: \"§% - § kB/s - § segundos restantes\",\n\t\t\t185: \"§% - § kB/s em § minutos\",\n\t\t\t186: \"§% - § kB/s em § minuto\",\n\t\t\t187: \"§% - § kB/s em § segundos\",\n\t\t\t188: \"§% - § kB/s\",\n\t\t\t192: \"Tem a certeza? [span]Sim[/span] - Não\",\n\t\t\t193: \"Parece ter acontecido um erro imprevisto. Por favor, tente novamente.\",\n\t\t\t194: \"Ocorreu um erro ao enviar.\",\n\t\t\t195: \"Ocorreu um erro ao processar.\",\n\t\t\t196: \"Convidamo-lo a [a §]tentar novamente[/a].\"\n\t\t},\n\t\tptbr: {\n\t\t\t107: \"Próximo\",\n\t\t\t124: \"Operação em andamento...\",\n\t\t\t125: \"Envio em andamento...\",\n\t\t\t126: \"Tratamento em andamento...\",\n\t\t\t132: \"trilha de vídeo\",\n\t\t\t133: \"trilha de áudio\",\n\t\t\t142: \"anterior/próximo\",\n\t\t\t144: \"retroceder/avançar\",\n\t\t\t146: \"sem áudio\",\n\t\t\t147: \"tela inteira\",\n\t\t\t149: \"Final\"\n\t\t},\n\t\tru: {\n\t\t\t102: \"Ок\",\n\t\t\t103: \"Отмена\",\n\t\t\t104: \"Подтвердить\",\n\t\t\t105: \"Закрыть\",\n\t\t\t106: \"Предыдущий\",\n\t\t\t107: \"Следующий\",\n\t\t\t108: \"Выберите файл\",\n\t\t\t124: \"Операция в процессе...\",\n\t\t\t131: \"видео\",\n\t\t\t132: \"видеодорожка\",\n\t\t\t133: \"аудиодорожка\",\n\t\t\t134: \"субтитры\",\n\t\t\t142: \"предыдущий/следующий\",\n\t\t\t143: \"воспроизведение/пауза\",\n\t\t\t144: \"назад/вперед\",\n\t\t\t145: \"понизить/повысить громкость\",\n\t\t\t146: \"выключить звук\",\n\t\t\t147: \"полноэкранный режим\",\n\t\t\t148: \"выйти\",\n\t\t\t150: \"Esc\",\n\t\t\t161: \"Все файлы приняты.\",\n\t\t\t162: \"Формат файла: §.\",\n\t\t\t163: \"Форматы файлов: § и §.\",\n\t\t\t164: \"Максимальный размер: § MB.\",\n\t\t\t181: \"§% - § kB/s - осталось § минут\",\n\t\t\t182: \"§% - § kB/s - осталось § минут\",\n\t\t\t183: \"§% - § kB/s - осталось § секунд\",\n\t\t\t185: \"§% - § kB/s за § минут\",\n\t\t\t186: \"§% - § kB/s за § минут\",\n\t\t\t187: \"§% - § kB/s за § секунд\",\n\t\t\t188: \"§% - § kB/s\",\n\t\t\t192: \"Вы уверены? [span]Да[/span] - нет\",\n\t\t\t193: \"Кажется произошла не предусмотренная ошибка... Попробуйте еще раз.\",\n\t\t\t194: \"Возникла ошибка при отправке файла.\",\n\t\t\t195: \"Возникла ошибка при обработке файла.\"\n\t\t},\n\t\tsk: {\n\t\t\t103: \"Zrušiť\",\n\t\t\t104: \"Potvrdiť\",\n\t\t\t105: \"Zavrieť\",\n\t\t\t106: \"Dozadu\",\n\t\t\t107: \"Ďalej\",\n\t\t\t133: \"zvuková stopa\",\n\t\t\t134: \"titulky\",\n\t\t\t142: \"dozadu/ďalej\",\n\t\t\t144: \"dozadu/dopredu\",\n\t\t\t145: \"znizit/zvysit hlasitost\",\n\t\t\t146: \"stlmiť\",\n\t\t\t150: \"Esc\"\n\t\t},\n\t\ttr: {\n\t\t\t103: \"İptal\",\n\t\t\t104: \"Onayla\",\n\t\t\t105: \"Kapat\",\n\t\t\t106: \"Önceki\",\n\t\t\t107: \"Sonraki\",\n\t\t\t131: \"görüntü\",\n\t\t\t132: \"görüntü kaydı\",\n\t\t\t133: \"ses kaydı\",\n\t\t\t134: \"altyazılar\",\n\t\t\t142: \"önceki/sonraki\",\n\t\t\t144: \"geri/i̇leri\",\n\t\t\t145: \"ses kısar/açar\",\n\t\t\t146: \"sesi kapatma\",\n\t\t\t147: \"tam ekran\",\n\t\t\t149: \"Son\",\n\t\t\t150: \"Esc\",\n\t\t\t192: \"Emin misiniz ? [span]Evet[/span] - Hayır\"\n\t\t},\n\t\tuk: {\n\t\t\t103: \"Відмінити\",\n\t\t\t104: \"Підтвердити\",\n\t\t\t105: \"Закрити\",\n\t\t\t106: \"Попередній\",\n\t\t\t107: \"Наступний\",\n\t\t\t131: \"відео\",\n\t\t\t132: \"відеодоріжка\",\n\t\t\t133: \"звукова доріжка\",\n\t\t\t134: \"субтитри\",\n\t\t\t142: \"попередній/наступний\",\n\t\t\t144: \"назад/вперед\",\n\t\t\t145: \"зменшити/збільшити гучність\",\n\t\t\t146: \"вимкнути звук\",\n\t\t\t149: \"Кінець\",\n\t\t\t150: \"Esc\"\n\t\t},\n\t\tzh: {\n\t\t\t103: \"取消\",\n\t\t\t104: \"确认\",\n\t\t\t105: \"关闭\",\n\t\t\t106: \"上一个\",\n\t\t\t107: \"下一个\",\n\t\t\t131: \"视频\",\n\t\t\t132: \"视频轨道\",\n\t\t\t133: \"音频轨道\",\n\t\t\t134: \"字幕\",\n\t\t\t142: \"上一个/下一个\",\n\t\t\t144: \"快退/快进\",\n\t\t\t145: \"音量减/增\",\n\t\t\t146: \"静音\",\n\t\t\t147: \"全屏\",\n\t\t\t150: \"Esc\",\n\t\t\t192: \"您确定吗？[span]是[/span] - 否\"\n\t\t}\n\t\t// auto end\n\t};\n\n\tthis.init = function () {\n\n\t\tvar value = apijs.config.lang, html = document.querySelector('html');\n\n\t\tif (value.indexOf('auto') > -1) {\n\t\t\tvalue = html.getAttribute('xml:lang') || html.getAttribute('lang'); // pt-BR fr-FR\n\t\t\tif (typeof value == 'string') {\n\t\t\t\tvalue = value.replace(/[-_]/g, '').toLowerCase();\n\t\t\t\tvalue = value.slice(0, 4);      // ptbr frfr\n\t\t\t\tif (!this.data.hasOwnProperty(value))\n\t\t\t\t\tvalue = value.slice(0, 2); // pt   fr\n\t\t\t\tif (this.data.hasOwnProperty(value))\n\t\t\t\t\tapijs.config.lang = value;\n\t\t\t}\n\t\t}\n\n\t\tif (!this.data.hasOwnProperty(value))\n\t\t\tapijs.config.lang = 'en';\n\t};\n\n\n\t// TRADUIT (public return string|domelement|boolean)\n\n\tthis.translate = function (word) {\n\n\t\tvar lang = apijs.config.lang, idx = 1, translation = '';\n\n\t\t// mot clef inexistant dans la langue configurée\n\t\t// test avec la langue par défaut pour éventuellement continuer\n\t\tif (typeof this.data[lang][word] != 'string') {\n\t\t\tif ((lang.length > 3) && (typeof this.data[lang.slice(0, 2)][word] == 'string'))\n\t\t\t\tlang = lang.slice(0, 2);\n\t\t\telse if ((lang !== 'en') && (typeof this.data.en[word] == 'string'))\n\t\t\t\tlang = 'en';\n\t\t\telse\n\t\t\t\treturn word;\n\t\t}\n\n\t\t// chaîne de caractères configurable\n\t\tif (arguments.length > 1) {\n\t\t\tthis.data[lang][word].split('§').forEach(function (data) {\n\t\t\t\ttranslation += (idx < this.length) ? data + this[idx++] : data;\n\t\t\t}, arguments); // pour que ci-dessus this = arguments\n\t\t\treturn translation;\n\t\t}\n\n\t\t// chaîne de caractères simple\n\t\treturn this.data[lang][word];\n\t};\n\n\tthis.translateNode = function () {\n\n\t\t// apply fait une copie des arguments\n\t\t// c'est comme si on avait appelé this.translate directement\n\t\treturn document.createTextNode(this.translate.apply(this, arguments));\n\t};\n\n\tthis.changeLang = function (lang) {\n\n\t\tif (typeof lang == 'string') {\n\n\t\t\tif (lang.indexOf('auto') > -1) {\n\t\t\t\tapijs.config.lang = 'auto';\n\t\t\t\tthis.init();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlang = lang.replace(/[-_]/g, '');\n\n\t\t\tif (this.data.hasOwnProperty(lang)) {\n\t\t\t\tapijs.config.lang = lang;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t};\n};","/**\n * Created D/12/04/2009\n * Updated L/24/05/2021\n *\n * Copyright 2008-2021 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * https://www.luigifab.fr/apijs\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\napijs.core.dialog = function () {\n\n\t\"use strict\";\n\tthis.klass    = [];\n\tthis.height   = 0;\n\tthis.scroll   = 0; // time\n\tthis.callback = null;\n\tthis.args     = null;\n\tthis.xhr      = null;\n\n\tthis.ft = /information|confirmation|options|upload|progress|waiting|photo|video|iframe|ajax|start|ready|end|reduce|mobile|tiny|fullscreen/g;\n\tthis.ti = 'a,area,button,input,textarea,select,object,iframe';\n\tthis.ns = 'http://www.w3.org/2000/svg';\n\n\tthis.media = null;\n\tthis.t0 = null; // fragment\n\tthis.t1 = null; // div id=apijsDialog\n\tthis.t2 = null; // div/form id=apijsBox\n\tthis.a  = null;\n\tthis.b  = null;\n\tthis.c  = null;\n\tthis.d  = null;\n\n\n\t// GÉNÉRATION DES BOÎTES DE DIALOGUE (public return boolean)\n\n\tthis.dialogInformation = function (title, text, icon) {\n\n\t\tif ((typeof title == 'string') && (typeof text == 'string')) {\n\t\t\treturn this.init('information', icon)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlContent(title, text)\n\t\t\t\t.htmlBtnOk()\n\t\t\t\t.show('button.confirm');\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogInformation invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogConfirmation = function (title, text, callback, args, icon) {\n\n\t\tif ((typeof title == 'string') && (typeof text == 'string') && (typeof callback == 'function')) {\n\t\t\tthis.callback = callback;\n\t\t\tthis.args = args;\n\t\t\treturn this.init('confirmation', icon)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlContent(title, text)\n\t\t\t\t.htmlBtnConfirm('button', 'apijs.dialog.actionConfirm();')\n\t\t\t\t.show('button.confirm');\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogConfirmation invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogFormOptions = function (title, text, action, callback, args, icon) {\n\n\t\tif ((typeof title == 'string') && (typeof text == 'string') && (typeof action == 'string') && (typeof callback == 'function')) {\n\t\t\tthis.callback = callback;\n\t\t\tthis.args = args;\n\t\t\treturn this.init('options', icon)\n\t\t\t\t.htmlParent(action, 'apijs.dialog.actionConfirm();')\n\t\t\t\t.htmlContent(title, text)\n\t\t\t\t.htmlBtnConfirm('submit')\n\t\t\t\t.show(true);\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogFormOptions invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogFormUpload = function (title, text, action, input, multiple, icon) {\n\n\t\tif ((typeof title == 'string') && (typeof text == 'string') && (typeof action == 'string') && (typeof input == 'string')) {\n\t\t\treturn this.init('upload', icon)\n\t\t\t\t.htmlParent(action, 'apijs.upload.actionConfirm();', 'apijs.upload.actionDrag(event);')\n\t\t\t\t.htmlContent(title, text)\n\t\t\t\t.htmlUpload(input, (typeof multiple == 'boolean') ? multiple : false)\n\t\t\t\t.htmlBtnConfirm('submit')\n\t\t\t\t.show('button.browse');\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogFormUpload invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogProgress = function (title, text, icon) {\n\n\t\tif ((typeof title == 'string') && (typeof text == 'string')) {\n\t\t\treturn this.init('progress', icon)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlContent(title, text)\n\t\t\t\t.htmlSvgProgress()\n\t\t\t\t.show();\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogProgress invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogWaiting = function (title, text, icon) {\n\n\t\tif ((typeof title == 'string') && (typeof text == 'string')) {\n\t\t\treturn this.init('waiting', icon)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlContent(title, text)\n\t\t\t\t.htmlSvgLoader(false)\n\t\t\t\t.show();\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogWaiting invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogPhoto = function (url, name, date, legend, icon) {\n\n\t\tvar slideshow = (typeof icon == 'string');\n\t\ticon = slideshow ? 'notransition slideshow loading ' + icon : 'notransition loading';\n\n\t\tif ((typeof url == 'string') && (typeof name == 'string') && (typeof date == 'string') && (typeof legend == 'string')) {\n\t\t\treturn this.init('photo', icon)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlMedia(url, name, date, legend)\n\t\t\t\t.htmlHelp(slideshow, false)\n\t\t\t\t.htmlBtnClose()\n\t\t\t\t.htmlBtnNavigation()\n\t\t\t\t.htmlSvgLoader()\n\t\t\t\t.show();\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogPhoto invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogVideo = function (url, name, date, legend, icon) {\n\n\t\tvar slideshow = (typeof icon == 'string');\n\t\ticon = slideshow ? 'notransition slideshow loading ' + icon : 'notransition loading';\n\n\t\tif ((typeof url == 'string') && (typeof name == 'string') && (typeof date == 'string') && (typeof legend == 'string')) {\n\t\t\treturn this.init('video', icon)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlMedia(url, name, date, legend)\n\t\t\t\t.htmlHelp(slideshow, url.indexOf('iframe') < 0) // true si pas iframe\n\t\t\t\t.htmlBtnClose()\n\t\t\t\t.htmlBtnNavigation()\n\t\t\t\t.htmlSvgLoader()\n\t\t\t\t.show();\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogVideo invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogIframe = function (url, close, icon) {\n\n\t\tif ((typeof url == 'string') && (typeof close == 'boolean')) {\n\t\t\treturn this.init('iframe', (typeof icon == 'string') ? icon + ' loading' : 'loading', !close)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlIframe(url)\n\t\t\t\t.htmlBtnClose(close)\n\t\t\t\t.htmlSvgLoader(false)\n\t\t\t\t.show();\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogIframe invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\tthis.dialogAjax = function (url, close, callback, args, icon) {\n\n\t\tif ((typeof url == 'string') && (typeof close == 'boolean') && (typeof callback == 'function')) {\n\t\t\t// dialogue\n\t\t\tthis.callback = callback;\n\t\t\tthis.args = args;\n\t\t\tthis.init('ajax', (typeof icon == 'string') ? icon + ' loading' : 'loading', !close)\n\t\t\t\t.htmlParent()\n\t\t\t\t.htmlBtnClose(close)\n\t\t\t\t.htmlSvgLoader(false)\n\t\t\t\t.show();\n\t\t\t// ajax\n\t\t\tthis.xhr = new XMLHttpRequest();\n\t\t\tthis.xhr.open('GET', url, true);\n\t\t\tthis.xhr.onreadystatechange = function () {\n\t\t\t\tif ((this.xhr.readyState === 4) && (typeof this.callback == 'function')) {\n\t\t\t\t\tthis.callback(this.xhr, this.args);\n\t\t\t\t\tthis.remove('loading');\n\t\t\t\t}\n\t\t\t}.bind(this); // pour que ci-dessus this = this\n\t\t\tthis.xhr.send();\n\t\t\treturn this;\n\t\t}\n\n\t\tconsole.error('apijs.dialog.dialogAjax invalid arguments', arguments);\n\t\treturn false;\n\t};\n\n\n\t// GESTION DES CLASSES CSS (public sauf update private, return this sauf has return true)\n\n\tthis.update = function () {\n\n\t\t// il n'est pas question de mettre à jour les attributs class sans l'une des 3 classes de base\n\t\tif (this.has('start', 'ready', 'end')) {\n\t\t\tif (this.t1)\n\t\t\t\tthis.t1.setAttribute('class', this.klass.join(' '));\n\t\t\tif (this.t2)\n\t\t\t\tthis.t2.setAttribute('class', this.klass.join(' '));\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.add = function () {\n\n\t\tArray.prototype.forEach.call(arguments, function (css) {\n\t\t\tif (typeof css != 'string')\n\t\t\t\tconsole.error('apijs.dialog.add argument is not a string', css);\n\t\t\tif (this.klass.indexOf(css) < 0)\n\t\t\t\tthis.klass.push(css);\n\t\t}, this); // pour que ci-dessus this = this\n\n\t\treturn this.update();\n\t};\n\n\tthis.remove = function () {\n\n\t\tArray.prototype.forEach.call(arguments, function (css) {\n\t\t\tif (typeof css != 'string')\n\t\t\t\tconsole.error('apijs.dialog.remove argument is not a string', css);\n\t\t\tif (this.klass.indexOf(css) > -1)\n\t\t\t\tthis.klass.splice(this.klass.indexOf(css), 1);\n\t\t}, this); // pour que ci-dessus this = this\n\n\t\treturn this.update();\n\t};\n\n\tthis.toggle = function (search, replace) {\n\n\t\tif ((typeof search != 'string') || (typeof replace != 'string'))\n\t\t\tconsole.error('apijs.dialog.toggle argument is not a string', search, replace);\n\n\t\tif (this.has(search))\n\t\t\tthis.remove(search);\n\t\tif (!this.has(replace))\n\t\t\tthis.add(replace);\n\n\t\treturn this.update();\n\t};\n\n\tthis.has = function () {\n\t\treturn this.klass.has(apijs.toArray(arguments)); // true if one found\n\t};\n\n\n\t// GESTION DES INTERACTIONS (private sauf actionClose)\n\n\tthis.actionClose = function (ev) {\n\n\t\t// \\\\ au lieu de \\ sinon Bad or unnecessary escaping\n\t\tif (apijs.config.slideshow.anchor && (typeof history.pushState == 'function')) {\n\t\t\tif (new RegExp('#(' + apijs.config.slideshow.ids + '[\\-\\\\.]\\\\d+[\\-\\\\.]\\\\d+)').test(self.location.href))\n\t\t\t\thistory.pushState({}, '', self.location.href.slice(0, self.location.href.indexOf('#')));\n\t\t}\n\n\t\tif (typeof ev == 'object') {\n\t\t\tif ((ev.target.getAttribute('id') === 'apijsDialog') && !apijs.dialog.has('photo', 'video', 'progress', 'waiting', 'lock'))\n\t\t\t\tapijs.dialog.clear(true);\n\t\t}\n\t\telse if (this.t1) {\n\t\t\tthis.clear(true);\n\t\t}\n\t};\n\n\tthis.onCloseBrowser = function (ev) {\n\n\t\tif (apijs.dialog.has('progress', 'waiting', 'lock')) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t\tev.m = apijs.i18n.translate(124);\n\t\t\tev.returnValue = ev.m; // Gecko, Trident, Chrome 34+\n\t\t\treturn ev.m;           // Gecko, WebKit, Chrome\n\t\t}\n\t};\n\n\tthis.onResizeBrowser = function () {\n\n\t\tvar add, body = document.querySelector('body');\n\n\t\tadd = body.clientWidth <= (apijs.dialog.has('photo', 'video') ? 900 : 460);\n\t\tapijs.dialog[add ? 'add' : 'remove']('mobile');\n\n\t\tadd = body.clientWidth <= 300;\n\t\tapijs.dialog[add ? 'add' : 'remove']('tiny');\n\t};\n\n\tthis.onScrollBrowser = function (ev) {\n\n\t\tvar that = apijs.dialog, elem = ev.target, brk = false;\n\n\t\t// dialogues du diaporama (suivant/précédent)\n\t\tif (that.has('slideshow') && !that.has('playing') &&\n\t\t    !['OPTION', 'SELECT'].has(elem.nodeName) && ['DOMMouseScroll','mousewheel','panleft','panright'].has(ev.type)) {\n\n\t\t\telem = new Date().getTime() / 1000;\n\t\t\tif ((that.scroll < 1) || (elem > (1 + that.scroll))) {\n\t\t\t\tthat.scroll = elem;\n\t\t\t\t// ev.detail     > 0 si vers le bas avec Firefox\n\t\t\t\t// ev.wheelDelta < 0 si vers le bas avec Chromium/Opera/Edge...\n\t\t\t\tbrk = (ev.detail > 0) || (ev.wheelDelta < 0); // true si vers le bas\n\t\t\t\tapijs.slideshow[((ev.type === 'panleft') || brk) ? 'actionNext' : 'actionPrev']();\n\t\t\t}\n\t\t}\n\t\t// autorise éventuellement le défilement\n\t\t// recherche l'éventuel élément scrollable\n\t\telse {\n\t\t\tif (elem.nodeName === 'OPTION') {\n\t\t\t\telem = elem.parentNode;\n\t\t\t}\n\t\t\telse if (!['TEXTAREA', 'SELECT'].has(elem.nodeName)) {\n\t\t\t\twhile ((brk !== true) && (elem.nodeName !== 'HTML')) {\n\t\t\t\t\tif (elem.classList.contains('scrollable'))\n\t\t\t\t\t\tbrk = true;\n\t\t\t\t\telse\n\t\t\t\t\t\telem = elem.parentNode;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// elem = select | textarea | scrollable\n\t\t\tif (elem.nodeName !== 'HTML') {\n\t\t\t\t// ev.detail     > 0 si vers le bas avec Firefox\n\t\t\t\t// ev.wheelDelta < 0 si vers le bas avec Chromium/Opera/Edge...\n\t\t\t\tbrk = (ev.detail > 0) || (ev.wheelDelta < 0); // true si vers le bas\n\t\t\t\tif ((brk && (elem.scrollTop < (elem.scrollHeight - elem.offsetHeight))) || (!brk && (elem.scrollTop > 0)))\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// empèche le défilement\n\t\tev.preventDefault();\n\t\tev.stopPropagation();\n\t};\n\n\tthis.onScrollIframe = function (ev) {\n\n\t\tvar elem = ev.target, brk;\n\t\twhile (elem.parentNode)\n\t\t\telem = elem.parentNode;\n\n\t\t// ev.detail     > 0 si vers le bas avec Firefox\n\t\t// ev.wheelDelta < 0 si vers le bas avec Chromium/Opera/Edge...\n\t\tbrk = (ev.detail > 0) || (ev.wheelDelta < 0); // true si vers le bas\n\n\t\t// empèche le défilement (elem = iframe document)\n\t\tif (\n\t\t\t(brk && ((elem.defaultView.innerHeight + elem.defaultView.pageYOffset) >= (elem.body.offsetHeight - 1))) ||\n\t\t\t(!brk && (elem.defaultView.pageYOffset <= 0))\n\t\t) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t}\n\t};\n\n\tthis.onKey = function (ev) {\n\n\t\tvar that = apijs.dialog, elem = that.media;\n\n\t\t// dialogues d'attente et de progresssion ou tout autre dialogue verrouillé\n\t\t// ctrl + q | ctrl + w | ctrl + r | ctrl + f4 | ctrl + f5 // alt + f4 // échap | f5\n\t\tif (that.has('progress', 'waiting', 'lock')) {\n\n\t\t\tif ((ev.ctrlKey && [81, 87, 82, 115, 116].has(ev.keyCode)) || (ev.altKey && (ev.keyCode === 115)) || [27, 116].has(ev.keyCode))\n\t\t\t\tev.preventDefault();\n\t\t}\n\t\t// dialogues photo et vidéo\n\t\t// f11 (ne fonctionne plus sur Opera 74 Windows)\n\t\telse if (that.has('photo', 'video') && (ev.keyCode === 122)) {\n\t\t\tev.preventDefault();\n\t\t\tapijs.requestFullscreen(that.t1);\n\t\t}\n\t\t// dialogues photo et vidéo du diaporama\n\t\t// échap // fin // début // gauche // droite\n\t\telse if (that.has('slideshow')) {\n\n\t\t\tif (ev.keyCode === 27) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tthat.actionClose();\n\t\t\t}\n\t\t\telse if (ev.keyCode === 35) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tapijs.slideshow.actionLast();\n\t\t\t}\n\t\t\telse if (ev.keyCode === 36) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tapijs.slideshow.actionFirst();\n\t\t\t}\n\t\t\telse if (ev.keyCode === 37) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tapijs.slideshow.actionPrev();\n\t\t\t}\n\t\t\telse if (ev.keyCode === 39) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tapijs.slideshow.actionNext();\n\t\t\t}\n\t\t}\n\t\t// pour tous les autres\n\t\t// échap\n\t\telse if (ev.keyCode === 27) {\n\t\t\tev.preventDefault();\n\t\t\tthat.actionClose();\n\t\t}\n\n\t\t// dialogue vidéo\n\t\t// espace | p // haut | page haut // bas | page bas // + // - // m\n\t\tif (that.has('video') && !that.has('videoiframe')) {\n\n\t\t\t// espace | p\n\t\t\tif ((ev.keyCode === 32) || (ev.keyCode === 80)) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif ([1,2].has(elem.networkState)) {\n\t\t\t\t\tif (elem.ended || elem.paused)\n\t\t\t\t\t\telem.play();\n\t\t\t\t\telse\n\t\t\t\t\t\telem.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t\t// haut | page haut\n\t\t\telse if ((ev.keyCode === 38) || (ev.keyCode === 33)) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif (([1,2].has(elem.networkState)) && (elem.duration !== Infinity) && !isNaN(elem.duration)) {\n\t\t\t\t\tif (elem.currentTime < (elem.duration - 10))\n\t\t\t\t\t\telem.currentTime += 10;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// bas | page bas\n\t\t\telse if ((ev.keyCode === 40) || (ev.keyCode === 34)) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif (([1,2].has(elem.networkState)) && (elem.duration !== Infinity) && !isNaN(elem.duration)) {\n\t\t\t\t\tif (elem.currentTime > 10)\n\t\t\t\t\t\telem.currentTime -= 10;\n\t\t\t\t\telse\n\t\t\t\t\t\telem.currentTime = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// +\n\t\t\telse if (ev.keyCode === 107) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif ([1,2].has(elem.networkState)) {\n\t\t\t\t\tif (elem.muted)\n\t\t\t\t\t\telem.muted = false;\n\t\t\t\t\tif (elem.volume < 0.8)\n\t\t\t\t\t\telem.volume += 0.2;\n\t\t\t\t\telse\n\t\t\t\t\t\telem.volume = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// -\n\t\t\telse if (ev.keyCode === 109) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif ([1,2].has(elem.networkState)) {\n\t\t\t\t\tif (elem.muted)\n\t\t\t\t\t\telem.muted = false;\n\t\t\t\t\tif (elem.volume > 0.21)\n\t\t\t\t\t\telem.volume -= 0.2;\n\t\t\t\t\telse\n\t\t\t\t\t\telem.volume = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// m\n\t\t\telse if (ev.keyCode === 77) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tif ([1,2].has(elem.networkState)) {\n\t\t\t\t\telem.muted = !elem.muted; // inverse\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// défilement de la page pour tous (renvoi sur actionScrollBrowser)\n\t\t// espace | page haut | page bas | fin | début | haut | bas\n\t\tif ([32, 33, 34, 35, 36, 38, 40].has(ev.keyCode)) {\n\n\t\t\t// empèche le défilement\n\t\t\tif (!ev.target || (!['INPUT','TEXTAREA','OPTION','SELECT'].has(ev.target.nodeName) && !ev.target.classList.contains('scrollable'))) {\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.onFullscreen = function (ev) {\n\n\t\tvar res = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;\n\t\tif (ev) apijs.log('dialog:onFullscreen:' + (res ? 'in' : 'out'));\n\n\t\tapijs.dialog[res ? 'add' : 'remove']('fullscreen');\n\t};\n\n\tthis.onIframeLoad = function (elem) { // todo\n\n\t\telem.removeAttribute('class');\n\t\tapijs.dialog.remove('loading');\n\n\t\telem.contentWindow.document.addEventListener('keydown', window.parent.apijs.dialog.onKey);\n\t\telem.contentWindow.addEventListener('DOMMouseScroll', window.parent.apijs.dialog.onScrollIframe, { passive: false });\n\t\telem.contentWindow.addEventListener('mousewheel', window.parent.apijs.dialog.onScrollIframe, { passive: false });\n\t\telem.contentWindow.addEventListener('touchmove', window.parent.apijs.dialog.onScrollIframe, { passive: false });\n\t};\n\n\tthis.onMediaLoad = function (ev) { // todo\n\n\t\tvar that = apijs.dialog, media = that.media, src, elem, elems;\n\t\tif (ev && ev.target) {\n\t\t\tsrc = ev.target.currentSrc || ev.target.src;\n\t\t\tapijs.log('dialog:onMediaLoad:' + ev.type + ' ' + (src ? src.slice(src.lastIndexOf('/') + 1) : ''));\n\t\t}\n\n\t\tif (media && ['load', 'durationchange'].has(ev.type)) {\n\t\t\tthat.remove('loading', 'error');\n\t\t\tmedia.style.visibility = 'visible';\n\t\t\tif (!media.hasAttribute('src') && (media.nodeName === 'IMG'))\n\t\t\t\tmedia.setAttribute('src', media.imageLoader.src);\n\t\t}\n\t\telse if (media && (ev.type === 'error')) {\n\t\t\tthat.toggle('loading', 'error');\n\t\t\tmedia.removeAttribute('style');\n\t\t\t// player vidéo (désactive l'option et active la suivante)\n\t\t\telem = apijs.html('.tracks.video select');\n\t\t\tif (elem && ev && ev.target) {\n\t\t\t\telems = elem.querySelectorAll('option');\n\t\t\t\tif ((elems.length > 0) && (elem.value.length > 0)) {\n\t\t\t\t\telems[elem.value].setAttribute('disabled', 'disabled');\n\t\t\t\t\telem.selectedIndex += 1;\n\t\t\t\t\t// charge la vidéo suivante (si erreur au clic sur le select)\n\t\t\t\t\tif ((ev.target.nodeName === 'VIDEO') && (elem.value !== ''))\n\t\t\t\t\t\tmedia.videoPlayer.actionVideo(elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.actionConfirm = function () { // todo\n\n\t\t// vérifie le dialogue d'options\n\t\t// arrêt du traitement si c'est pas bon\n\t\tif (this.has('options')) {\n\t\t\tif (this.callback(false, this.args) !== true)\n\t\t\t\treturn false;\n\t\t}\n\n\t\t// verrouille le dialogue et affiche le loader\n\t\tthis.add('lock', 'loading');\n\t\tthis.htmlSvgLoader(false);\n\n\t\t// masque les boutons et le texte du dialogue\n\t\tapijs.html('div.btns').style.visibility = 'hidden';\n\t\tapijs.html('div.bbcode').style.visibility = 'hidden';\n\n\t\t// appelle la fonction de rappel\n\t\t// ne déverrouille pas le dialogue\n\t\tself.setTimeout(function () {\n\t\t\tif ((this.t2) && (this.t2.nodeName === 'FORM'))\n\t\t\t\tthis.callback(this.t2.getAttribute('action'), this.args);\n\t\t\telse if (this.t2)\n\t\t\t\tthis.callback(this.args);\n\t\t}.bind(this), 12); // pour que ci-dessus this = this\n\n\t\treturn false; // très important\n\t};\n\n\n\t// GESTION DES CONTENEURS (private return this|boolean)\n\n\tthis.init = function (type, icon, isLocked) { // todo\n\n\t\tisLocked = (isLocked === true);\n\t\tif (typeof icon == 'string') {\n\t\t\ticon = icon.replace(this.ft, '').trim();\n\t\t\ticon = (icon.length > 0) ? (isLocked ? icon + ' lock' : icon) : (isLocked ? 'lock' : null);\n\t\t}\n\t\telse if (isLocked) {\n\t\t\ticon = 'lock';\n\t\t}\n\n\t\t// préparation\n\t\tif (this.t0)\n\t\t\tthis.clear(false);\n\n\t\t// css\n\t\tthis.klass.push('start');\n\t\tthis.klass.push(type);\n\n\t\tif (self.matchMedia('prefers-reduced-motion:reduce').matches)\n\t\t\tthis.klass.push('reduce');\n\n\t\tif (typeof icon == 'string')\n\t\t\tthis.klass = this.klass.concat(icon.split(' '));\n\n\t\t// création du fragment\n\t\tthis.t0 = document.createDocumentFragment();\n\n\t\t// surveillance des touches et du navigateur\n\t\tdocument.addEventListener('keydown', this.onKey);\n\t\tself.addEventListener('beforeunload', this.onCloseBrowser);\n\t\tself.addEventListener('DOMMouseScroll', this.onScrollBrowser, { passive: false });\n\t\tself.addEventListener('mousewheel', this.onScrollBrowser, { passive: false });\n\t\tself.addEventListener('touchmove', this.onScrollBrowser, { passive: false });\n\t\tself.addEventListener('resize', this.onResizeBrowser);\n\n\t\t// restriction de la navigation\n\t\tif (apijs.config.dialog.restrictNavigation)\n\t\t\tdocument.querySelectorAll(this.ti).forEach(function (elem) { elem.setAttribute('tabindex', '-1'); });\n\n\t\treturn this;\n\t};\n\n\tthis.show = function (focus) { // todo\n\n\t\t// design\n\t\tthis.onResizeBrowser();\n\t\tthis.onFullscreen();\n\n\t\tif ((this.height > 0) && !this.has('photo', 'video'))\n\t\t\tthis.t2.style.minHeight = this.height + 'px';\n\n\t\t// affichage du dialogue sans/sans/avec transitions CSS\n\t\tvar old = apijs.html('#Dialog');\n\t\tif (old) {\n\t\t\tthis.toggle('start', 'ready');\n\t\t\tthis.t1 = old;\n\t\t\tthis.t1.appendChild(this.t0.firstChild.firstChild);\n\t\t\tthis.t1.setAttribute('class', this.t2.getAttribute('class'));\n\t\t}\n\t\telse if (this.has('notransition')) {\n\t\t\tthis.toggle('start', 'ready');\n\t\t\tdocument.querySelector('body').appendChild(this.t0);\n\t\t}\n\t\telse {\n\t\t\tdocument.querySelector('body').appendChild(this.t0);\n\t\t\tself.setTimeout(function () { apijs.dialog.toggle('start', 'ready'); }, 12);\n\t\t}\n\n\t\t// fermeture des popups au clic\n\t\tif (apijs.config.dialog.closeOnClick && !this.has('progress', 'waiting', 'lock'))\n\t\t\tdocument.addEventListener('click', this.actionClose);\n\n\t\t// passage en plein écran\n\t\tif (this.has('photo', 'video')) {\n\n\t\t\tif (document.webkitFullscreenEnabled)\n\t\t\t\tdocument.addEventListener('webkitfullscreenchange', this.onFullscreen);\n\t\t\telse if (document.fullscreenEnabled)\n\t\t\t\tdocument.addEventListener('fullscreenchange', this.onFullscreen);\n\t\t\telse if (document.mozFullScreenEnabled)\n\t\t\t\tdocument.addEventListener('mozfullscreenchange', this.onFullscreen);\n\t\t}\n\n\t\t// auto-focus\n\t\tif (focus === true)\n\t\t\tself.setTimeout(function () { apijs.html('input:not([readonly]),textarea:not([readonly]),select:not([disabled])').focus(); }, 12);\n\t\telse if (typeof focus == 'string')\n\t\t\tapijs.html(focus).focus();\n\n\t\treturn true;\n\t};\n\n\tthis.clear = function (isAll) { // todo\n\n\t\tif (isAll && this.xhr) {\n\t\t\tthis.callback = null; // très important\n\t\t\tthis.xhr.abort();\n\t\t}\n\n\t\t// surveillance des touches et du navigateur (depuis initDialog)\n\t\tdocument.removeEventListener('keydown', this.onKey);\n\t\tself.removeEventListener('beforeunload', this.onCloseBrowser);\n\t\tself.removeEventListener('DOMMouseScroll', this.onScrollBrowser, { passive: false });\n\t\tself.removeEventListener('mousewheel', this.onScrollBrowser, { passive: false });\n\t\tself.removeEventListener('touchmove', this.onScrollBrowser, { passive: false });\n\t\tself.removeEventListener('resize', this.onResizeBrowser);\n\n\t\t// restriction de la navigation (depuis initDialog)\n\t\tif (apijs.config.dialog.restrictNavigation)\n\t\t\tdocument.querySelectorAll(this.ti).forEach(function (elem) { elem.removeAttribute('tabindex'); });\n\n\t\t// fermeture des popups au clic (depuis showDialog)\n\t\tif (apijs.config.dialog.closeOnClick)\n\t\t\tdocument.removeEventListener('click', this.actionClose);\n\n\t\t// spécial\n\t\tif (this.has('photo', 'video')) {\n\n\t\t\t// pour ne pas déclencher les fonctions\n\t\t\t// supprime tous les ontruc et les src\n\t\t\tif (this.has('video') && !this.has('videoiframe')) {\n\t\t\t\tthis.t2.querySelectorAll('video, source, track').forEach(function (elem) {\n\t\t\t\t\tfor (var name in elem) {\n\t\t\t\t\t\tif (name.indexOf('on') === 0)\n\t\t\t\t\t\t\telem[name] = null;\n\t\t\t\t\t}\n\t\t\t\t\telem.removeAttribute('src');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.media.videoPlayer = null;\n\t\t\tthis.media.imageLoader = null;\n\n\t\t\t// passage en plein écran (depuis showDialog)\n\t\t\tif (document.webkitFullscreenEnabled)\n\t\t\t\tdocument.removeEventListener('webkitfullscreenchange', this.onFullscreen);\n\t\t\telse if (document.fullscreenEnabled)\n\t\t\t\tdocument.removeEventListener('fullscreenchange', this.onFullscreen);\n\t\t\telse if (document.mozFullScreenEnabled)\n\t\t\t\tdocument.removeEventListener('mozfullscreenchange', this.onFullscreen);\n\t\t}\n\t\t// mémorise la hauteur du dialogue\n\t\telse {\n\t\t\tthis.height = parseFloat(self.getComputedStyle(this.t2).height);\n\t\t}\n\n\t\t// supprime le dialogue\n\t\tif (isAll) {\n\t\t\tthis.toggle('ready', 'end');\n\t\t\tthis.t1.remove();\n\t\t}\n\t\telse {\n\t\t\twhile (this.t1.firstChild)\n\t\t\t\tthis.t1.firstChild.remove();\n\t\t}\n\n\t\t// réinitialise toutes les variables (sauf ft/ti/ns)\n\t\tthis.klass = [];\n\t\tif (isAll) {\n\t\t\tthis.height   = 0;\n\t\t\tthis.scroll   = 0; // time\n\t\t\tthis.callback = null;\n\t\t\tthis.args     = null;\n\t\t\tthis.xhr      = null;\n\t\t}\n\t\tthis.media = null;\n\t\tthis.t0 = null; // fragment\n\t\tthis.t1 = null; // div id=apijsDialog\n\t\tthis.t2 = null; // div/form id=apijsBox\n\t\tthis.a  = null;\n\t\tthis.b  = null;\n\t\tthis.c  = null;\n\t\tthis.d  = null;\n\n\t\treturn true;\n\t};\n\n\n\t// GÉNÉRATION DES ÉLÉMENTS (private return this)\n\n\tthis.htmlParent = function (action, submit, drag) {\n\n\t\tthis.t1 = document.createElement('div');\n\t\tthis.t1.setAttribute('id', 'apijsDialog');\n\n\t\tif (typeof drag == 'string') {\n\n\t\t\tthis.t1.setAttribute('ondragenter', drag);\n\t\t\tthis.t1.setAttribute('ondragleave', drag);\n\t\t\tthis.t1.setAttribute('ondragover', drag);\n\t\t\tthis.t1.setAttribute('ondrop', drag);\n\n\t\t\tthis.a = document.createElement('p');\n\t\t\tthis.a.setAttribute('class', 'drag');\n\t\t\tthis.a.appendChild(apijs.i18n.translateNode(127));\n\t\t\tthis.t1.appendChild(this.a);\n\t\t}\n\n\t\tif (typeof action == 'string') {\n\t\t\tthis.t2 = document.createElement('form');\n\t\t\tthis.t2.setAttribute('action', action);\n\t\t\tthis.t2.setAttribute('method', 'post');\n\t\t\tthis.t2.setAttribute('enctype', 'multipart/form-data');\n\t\t\tthis.t2.setAttribute('onsubmit', 'return ' + submit);\n\t\t}\n\t\telse {\n\t\t\tthis.t2 = document.createElement('div');\n\t\t}\n\n\t\tthis.t2.setAttribute('id', 'apijsBox');\n\t\tthis.t1.appendChild(this.t2);\n\t\tthis.t0.appendChild(this.t1);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlContent = function (title, text) {\n\n\t\tif (title.length > 0) {\n\t\t\tthis.a = document.createElement('h1');\n\t\t\tthis.a.innerHTML = title.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\[/g, '<').replace(/]/g, '>');\n\t\t\tthis.t2.appendChild(this.a);\n\t\t}\n\n\t\tif (text.length > 0) {\n\t\t\tthis.a = document.createElement('div');\n\t\t\tthis.a.setAttribute('class', 'bbcode');\n\t\t\tif (text[0] !== '[') text = '[p]' + text + '[/p]';\n\t\t\tthis.a.innerHTML = text.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\[/g, '<').replace(/]/g, '>');\n\t\t\tthis.a.querySelectorAll('a.popup').forEach(function (elem) { elem.addEventListener('click', apijs.openTab); });\n\t\t\tthis.t2.appendChild(this.a);\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.htmlBtnOk = function () {\n\n\t\tthis.a = document.createElement('div');\n\t\tthis.a.setAttribute('class', 'btns');\n\n\t\t\tthis.b = document.createElement('button');\n\t\t\tthis.b.setAttribute('type', 'button');\n\t\t\tthis.b.setAttribute('class', 'confirm');\n\t\t\tthis.b.setAttribute('onclick', 'apijs.dialog.actionClose();');\n\n\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\tthis.c.appendChild(apijs.i18n.translateNode(102));\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlBtnConfirm = function (type, click) {\n\n\t\tthis.a = document.createElement('div');\n\t\tthis.a.setAttribute('class', 'btns');\n\n\t\t\tthis.b = document.createElement('button');\n\t\t\tthis.b.setAttribute('type', type);\n\t\t\tthis.b.setAttribute('class', 'confirm');\n\t\t\tif (type !== 'submit') this.b.setAttribute('onclick', click);\n\n\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\tthis.c.appendChild(apijs.i18n.translateNode(104));\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\n\t\t\tthis.b = document.createElement('button');\n\t\t\tthis.b.setAttribute('type', 'button');\n\t\t\tthis.b.setAttribute('class', 'cancel');\n\t\t\tthis.b.setAttribute('onclick', 'apijs.dialog.actionClose();');\n\n\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\tthis.c.appendChild(apijs.i18n.translateNode(103));\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlBtnNavigation = function () {\n\n\t\tthis.a = document.createElement('div');\n\t\tthis.a.setAttribute('class', 'navigation noplaying');\n\n\t\t\tthis.b = document.createElement('button');\n\t\t\tthis.b.setAttribute('type', 'button');\n\t\t\tthis.b.setAttribute('disabled', 'disabled');\n\t\t\tthis.b.setAttribute('class', 'prev');\n\t\t\tthis.b.setAttribute('id', 'apijsPrev');\n\t\t\tthis.b.setAttribute('onclick', 'apijs.slideshow.actionPrev();');\n\n\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\t//this.c.appendChild(apijs.i18n.translateNode(106));\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\n\t\t\tthis.b = document.createElement('button');\n\t\t\tthis.b.setAttribute('type', 'button');\n\t\t\tthis.b.setAttribute('disabled', 'disabled');\n\t\t\tthis.b.setAttribute('class', 'next');\n\t\t\tthis.b.setAttribute('id', 'apijsNext');\n\t\t\tthis.b.setAttribute('onclick', 'apijs.slideshow.actionNext();');\n\n\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\t//this.c.appendChild(apijs.i18n.translateNode(107));\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlBtnClose = function (close) {\n\n\t\tif (close !== false) {\n\n\t\t\tthis.a = document.createElement('div');\n\t\t\tthis.a.setAttribute('class', 'close noplaying');\n\n\t\t\t\tthis.b = document.createElement('button');\n\t\t\t\tthis.b.setAttribute('type', 'button');\n\t\t\t\tthis.b.setAttribute('class', 'close');\n\t\t\t\tthis.b.setAttribute('onclick', 'apijs.dialog.actionClose();');\n\n\t\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\t\tthis.c.appendChild(apijs.i18n.translateNode(105));\n\n\t\t\t\tthis.b.appendChild(this.c);\n\n\t\t\tthis.a.appendChild(this.b);\n\t\t\tthis.t2.appendChild(this.a);\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.htmlUpload = function (input, isMultiple) {\n\n\t\tthis.a = document.createElement('div');\n\t\tthis.a.setAttribute('class', 'btns upload');\n\n\t\t\tthis.b = document.createElement('input');\n\t\t\tthis.b.setAttribute('type', 'file');\n\t\t\tthis.b.setAttribute('name', input);\n\t\t\tthis.b.setAttribute('id', 'apijsFile');\n\t\t\tif (isMultiple) this.b.setAttribute('multiple', 'multiple');\n\t\t\tthis.b.setAttribute('onchange', 'apijs.upload.actionChoose(this);');\n\n\t\tthis.a.appendChild(this.b);\n\n\t\t\tthis.b = document.createElement('button');\n\t\t\tthis.b.setAttribute('type', 'button');\n\t\t\tthis.b.setAttribute('class', 'browse');\n\t\t\tthis.b.setAttribute('onclick', 'this.previousSibling.click();');\n\n\t\t\t\tthis.c = document.createElement('span');\n\t\t\t\tthis.c.appendChild(apijs.i18n.translateNode(isMultiple ? 109 : 108));\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\n\t\t\tthis.b = document.createElement('div');\n\t\t\tthis.b.setAttribute('class', 'filenames scrollable');\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlSvgProgress = function () {\n\n\t\tthis.a = document.createElement('span');\n\t\tthis.a.setAttribute('class', 'info');\n\t\tthis.t2.appendChild(this.a);\n\n\t\tthis.a = document.createElement('svg');\n\t\tthis.a.setAttribute('id', 'apijsProgress');\n\n\t\t\tthis.b = document.createElement('rect');\n\t\t\tthis.b.setAttribute('class', 'auto');\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlSvgLoader = function (isDelayed) {\n\n\t\tthis.a = document.createElementNS(this.ns, 'svg');\n\t\tthis.a.setAttribute('class', 'loader');\n\n\t\t\tthis.b = document.createElementNS(this.ns, 'path');\n\t\t\tif (isDelayed !== false) this.b.setAttribute('style', 'opacity:0;');\n\t\t\tthis.b.setAttribute('d', 'M75.4 126.63a11.43 11.43 0 0 1-2.1-22.65 40.9 40.9 0 0 0 30.5-30.6 11.4 11.4 0 1 1 22.27 4.87h.02a63.77 63.77 0 0 1-47.8 48.05v-.02a11.38 11.38 0 0 1-2.93.37z');\n\n\t\t\t\tthis.c = document.createElementNS(this.ns, 'animateTransform');\n\t\t\t\tthis.c.setAttribute('attributeName', 'transform');\n\t\t\t\tthis.c.setAttribute('type', 'rotate');\n\t\t\t\tthis.c.setAttribute('from', '0 64 64');\n\t\t\t\tthis.c.setAttribute('to', '360 64 64');\n\t\t\t\tthis.c.setAttribute('dur', '5s');\n\t\t\t\tthis.c.setAttribute('repeatCount', 'indefinite');\n\n\t\t\tthis.b.appendChild(this.c);\n\n\t\t\t\tthis.c = document.createElementNS(this.ns, 'animate');\n\t\t\t\tthis.c.setAttribute('attributeName', 'opacity');\n\t\t\t\tthis.c.setAttribute('to', '1');\n\t\t\t\tthis.c.setAttribute('dur', '0.01s');\n\t\t\t\tthis.c.setAttribute('begin', '1s');\n\t\t\t\tthis.c.setAttribute('fill', 'freeze');\n\n\t\t\tif (isDelayed !== false) this.b.appendChild(this.c);\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlMedia = function (url, name, date, legend) {\n\n\t\tthis.a = document.createElement('dl');\n\t\tthis.a.setAttribute('class', 'media');\n\n\t\t\tthis.b = document.createElement('dt');\n\n\t\t\tif (this.has('photo')) {\n\t\t\t\tthis.media = document.createElement('img');\n\t\t\t\tthis.media.setAttribute('alt', legend.replace('\"', ''));\n\t\t\t}\n\t\t\telse if (url.indexOf('iframe') > 0) {\n\t\t\t\tthis.media = document.createElement('iframe');\n\t\t\t\tthis.media.setAttribute('type', 'text/html');\n\t\t\t\tthis.media.setAttribute('scrolling', 'no');\n\t\t\t\tthis.media.setAttribute('src', url);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.media = document.createElement('video');\n\t\t\t\tthis.media.setAttribute('controls', 'controls');\n\t\t\t\tthis.media.setAttribute('preload', 'metadata');\n\t\t\t}\n\n\t\t\tthis.media.setAttribute('id', 'apijsMedia');\n\t\t\tthis.b.appendChild(this.media);\n\n\t\tthis.a.appendChild(this.b);\n\n\t\t\tthis.b = document.createElement('dd');\n\t\t\tthis.b.setAttribute('class', 'nomobile noplaying');\n\n\t\t\tif ((name !== 'false') || (date !== 'false')) {\n\n\t\t\t\tvar fileid = url.slice(url.lastIndexOf('/') + 1);\n\t\t\t\tthis.c = document.createElement('span');\n\n\t\t\t\t// name + date\n\t\t\t\tif ((name !== 'false') && (name !== 'auto') && (date !== 'false'))\n\t\t\t\t\tthis.c.appendChild(document.createTextNode(name + ' (' + date + ') '));\n\t\t\t\t// name\n\t\t\t\telse if ((name !== 'false') && (name !== 'auto'))\n\t\t\t\t\tthis.c.appendChild(document.createTextNode(name + ' '));\n\t\t\t\t// auto name + date\n\t\t\t\telse if ((name === 'auto') && (date !== 'false'))\n\t\t\t\t\tthis.c.appendChild(document.createTextNode(fileid + ' (' + date + ') '));\n\t\t\t\t// auto name\n\t\t\t\telse if (name === 'auto')\n\t\t\t\t\tthis.c.appendChild(document.createTextNode(fileid + ' '));\n\t\t\t\t// date\n\t\t\t\telse if (date !== 'false')\n\t\t\t\t\tthis.c.appendChild(document.createTextNode('(' + date + ') '));\n\n\t\t\t\tthis.b.appendChild(this.c);\n\t\t\t}\n\n\t\t\tthis.b.appendChild(document.createTextNode(legend));\n\n\t\tthis.a.appendChild(this.b);\n\t\tthis.t2.appendChild(this.a);\n\n\t\t// au choix : photo / vidéo avec iframe / vidéo avec lecteur / vidéo simple\n\t\t// lecteur créé v5.2 / supprimé v5.3 / refait v6.0 / extrait v6.6\n\t\tif (this.has('photo')) {\n\t\t\tthis.media.imageLoader = new Image();\n\t\t\tthis.media.imageLoader.src = url;\n\t\t\tthis.media.imageLoader.onload  = this.onMediaLoad;\n\t\t\tthis.media.imageLoader.onerror = this.onMediaLoad;\n\t\t}\n\t\telse if (url.indexOf('iframe') > 0) {\n\t\t\tthis.media.onload = function (ev) {\n\t\t\t\tthis.onIframeLoad(this.media);\n\t\t\t\tthis.onMediaLoad(ev);\n\t\t\t}.bind(this); // pour que ci-dessus this = this\n\t\t\tthis.add('videoiframe');\n\t\t}\n\t\telse if (apijs.startPlayer(this.media, url)) {\n\t\t\tthis.add('apijsvideoplayer');\n\t\t}\n\t\telse {\n\t\t\tthis.c = document.createElement('source');\n\t\t\tthis.c.setAttribute('src', url);\n\t\t\tthis.c.onerror = this.onMediaLoad;\n\t\t\tthis.media.appendChild(this.c);\n\t\t\tthis.media.ondurationchange = this.onMediaLoad;\n\t\t\tthis.media.onerror = this.onMediaLoad;\n\t\t\tthis.add('videosource');\n\t\t}\n\n\t\treturn this;\n\t};\n\n\tthis.htmlHelp = function (isSlideshow, isVideo) {\n\n\t\tvar items, item, keys = [\n\t\t\tisSlideshow ? ['start', 149, 141] : [], // début/fin\n\t\t\tisSlideshow ? ['left', 'right', 142] : [],\n\t\t\tisVideo ? ['bottom', 'topk', 144] : [],\n\t\t\tisVideo ? ['minus', 'plus', 145] : [],\n\t\t\tisVideo ? ['M', 146] : [],\n\t\t\tisVideo ? ['P', 143] : [],\n\t\t\t['F11', 147],\n\t\t\t[150, 148] // échap\n\t\t];\n\n\t\tthis.a = document.createElement('ul');\n\t\tthis.a.setAttribute('class', 'kbd nomobile nofullscreen');\n\n\t\twhile (items = keys.shift()) {\n\n\t\t\tif (items.length > 0) {\n\n\t\t\t\tthis.b = document.createElement('li');\n\n\t\t\t\twhile (item = items.shift()) {\n\t\t\t\t\tif (items.length > 0) {\n\t\t\t\t\t\tthis.c = document.createElement('kbd');\n\t\t\t\t\t\tif (['M', 'P', 'F11'].has(item))\n\t\t\t\t\t\t\tthis.c.appendChild(document.createTextNode(item));\n\t\t\t\t\t\telse if (typeof item == 'string')\n\t\t\t\t\t\t\tthis.c.setAttribute('class', item);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.c.appendChild(apijs.i18n.translateNode(item));\n\t\t\t\t\t\tthis.b.appendChild(this.c);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tthis.b.appendChild(apijs.i18n.translateNode(item));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.a.appendChild(this.b);\n\t\t\t}\n\t\t}\n\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n\n\tthis.htmlIframe = function (url) {\n\n\t\tthis.a = document.createElement('iframe');\n\t\tthis.a.setAttribute('src', url);\n\t\tthis.a.setAttribute('class', 'loading');\n\t\tthis.a.setAttribute('onload', 'apijs.dialog.onIframeLoad(this);');\n\n\t\tthis.t2.appendChild(this.a);\n\n\t\treturn this;\n\t};\n};","/**\n * Created D/11/01/2015\n * Updated L/24/05/2021\n *\n * Copyright 2008-2021 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * https://www.luigifab.fr/apijs\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\napijs.core.player = function (video, url) {\n\n\t\"use strict\";\n\tthis.video   = video;\n\tthis.stalled = false;\n\tthis.subload = false;\n\n\n\t// GÉNÉRATION DES ÉLÉMENTS (private return this|void|domelement)\n\n\tthis.autoRun = function (video, url) { // todo\n\n\t\tvideo.removeAttribute('src');\n\t\tvideo.removeAttribute('data-src');\n\t\tvideo.removeAttribute('controls');\n\t\tvideo.classList.add('apijsplayer');\n\n\t\t// https://developer.mozilla.org/fr/docs/Web/Guide/DOM/Events/evenement_medias\n\t\tvideo.onloadedmetadata = function (ev) {\n\t\t\tthis.stalled = false;\n\t\t\tthis.onTimeupdate(ev);\n\t\t\tthis.onProgress(ev);\n\t\t\tthis.onVideotrack();\n\t\t\tthis.onAudiotrack();\n\t\t}.bind(this);\n\t\tvideo.onstalled = function (ev) {\n\t\t\tthis.stalled = true;\n\t\t\tthis.onWaiting(ev);\n\t\t}.bind(this);\n\t\tvideo.onplaying        = this.onPlay.bind(this);\n\t\tvideo.onpause          = this.onPlay.bind(this);\n\t\tvideo.onended          = this.onPlay.bind(this);\n\t\tvideo.onprogress       = this.onProgress.bind(this);\n\t\tvideo.ontimeupdate     = this.onTimeupdate.bind(this);\n\t\tvideo.onseeking        = this.onTimeupdate.bind(this);\n\t\tvideo.onseeked         = this.onWaiting.bind(this);\n\t\tvideo.onwaiting        = this.onWaiting.bind(this);\n\t\tvideo.onloadstart      = this.onWaiting.bind(this);\n\t\tvideo.oncanplay        = this.onWaiting.bind(this);\n\t\tvideo.onclick          = this.actionPlay.bind(this);\n\t\tvideo.onvolumechange   = this.actionVolume.bind(this);\n\t\tvideo.ondurationchange = apijs.dialog.onMediaLoad;\n\t\tvideo.onerror          = apijs.dialog.onMediaLoad;\n\n\t\t// ajoute les contrôles\n\t\tvideo.parentNode.appendChild(this.htmlSvgPlayer());\n\n\t\t// charge les sources\n\t\tif (url.indexOf('m3u') < 0) {\n\t\t\tvideo.appendChild(this.htmlSource(url));\n\t\t\treturn this;\n\t\t}\n\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', url, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState === 4) {\n\t\t\t\tself.dispatchEvent(new CustomEvent('apijsajaxresponse', { detail: { from: 'apijsplayer.init', xhr: xhr } }));\n\t\t\t\tif (!video || (video.childNodes.length > 0)) {\n\t\t\t\t\txhr.abort();\n\t\t\t\t}\n\t\t\t\telse if ([0, 200].has(xhr.status)) {\n\n\t\t\t\t\tvar url, txt, nbv = 0, nbt = 0, data = xhr.responseText.trim().split(\"\\n\");\n\t\t\t\t\twhile (typeof (url = data.shift()) == 'string') {\n\n\t\t\t\t\t\t// #APIJS#attr|name|value\n\t\t\t\t\t\tif (url.indexOf('#APIJS#attr') === 0) {\n\t\t\t\t\t\t\ttxt = url.split('|');\n\t\t\t\t\t\t\tvideo.setAttribute(txt[1], txt[2]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// #APIJS#track|kind|label|srclang|src\n\t\t\t\t\t\telse if (url.indexOf('#APIJS#track|subtitles') === 0) {\n\t\t\t\t\t\t\ttxt = url.split('|');\n\t\t\t\t\t\t\tthis.html('.tracks.texttrack select').appendChild(this.htmlOption(nbt++, txt[3] + ' - ' + txt[2]));\n\t\t\t\t\t\t\tvideo.appendChild(this.htmlTrack(txt));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// #EXTINF: Text\n\t\t\t\t\t\telse if (url.indexOf('#EXTINF') === 0) {\n\t\t\t\t\t\t\ttxt = url.replace(/#EXTINF:[0-9]+,/, '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// http\n\t\t\t\t\t\telse if ((url.length > 5) && (url[0] !== '#')) {\n\t\t\t\t\t\t\tthis.html('.tracks.video select').appendChild(this.htmlOption(nbv++, (typeof txt == 'string') ? txt : nbv));\n\t\t\t\t\t\t\tvideo.appendChild(this.htmlSource(url));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateSelect('video', nbv);\n\t\t\t\t\tif (typeof video.textTracks == 'object')\n\t\t\t\t\t\tthis.updateSelect('texttrack', video.textTracks.length || nbt);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tapijs.dialog.onMediaLoad({ type: 'error' });\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this);\n\t\txhr.send();\n\n\t\treturn this;\n\t};\n\n\tthis.updateSelect = function (css, total) {\n\n\t\t// s'il y une seule option on affiche pas, sauf pour les sous titres\n\t\tvar adjust = (css === 'texttrack') ? 1 : 0;\n\t\tif (total > adjust) {\n\t\t\tthis.html('.tracks.' + css).removeAttribute('style');\n\t\t\tthis.html('.tracks.' + css + ' em').textContent = '(' + total + ')';\n\t\t\tthis.html('.tracks.' + css + ' select').setAttribute('size', (total < 10) ? total + adjust : 10);\n\t\t}\n\t\telse {\n\t\t\tthis.html('.tracks.' + css).setAttribute('style', 'display:none;');\n\t\t\tthis.html('.tracks.' + css + ' select').innerHTML = '';\n\t\t}\n\t};\n\n\tthis.html = function (selector) {\n\t\treturn this.video.parentNode.querySelector(selector);\n\t};\n\n\n\t// GESTION DES ÉVÉNEMENTS (private return void)\n\n\tthis.onVideotrack = function () {\n\n\t\tvar tracks = this.video.videoTracks, select = this.html('.tracks.videotrack select'), lang = apijs.config.lang, auto = -1, idx;\n\n\t\tif (typeof tracks == 'object') {\n\n\t\t\t// si la vidéo contient plusieurs pistes vidéo\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/VideoTrack\n\t\t\tif (tracks.length > 1) {\n\t\t\t\tfor (idx = 0; idx < tracks.length; idx++) {\n\t\t\t\t\tif (tracks[idx].language && (tracks[idx].language.toLowerCase().replace(/[-_]/g, '').indexOf(lang) == 0))\n\t\t\t\t\t\tauto = (auto < 0) ? idx : auto;\n\t\t\t\t\tselect.appendChild(this.htmlOption(idx, tracks[idx]));\n\t\t\t\t}\n\t\t\t\tthis.updateSelect('videotrack', tracks.length);\n\t\t\t}\n\n\t\t\t// sélectionne éventuellement la piste dans la bonne langue\n\t\t\tselect.selectedIndex = Math.max(0, auto);\n\t\t\tif (auto >= 0)\n\t\t\t\tthis.actionVideotrack(auto);\n\t\t}\n\t};\n\n\tthis.onAudiotrack = function () {\n\n\t\tvar tracks = this.video.audioTracks, select = this.html('.tracks.audiotrack select'), lang = apijs.config.lang, auto = -1, idx;\n\n\t\tif (typeof tracks == 'object') {\n\n\t\t\t// si la vidéo contient plusieurs pistes audio\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/AudioTrack\n\t\t\tif (tracks.length > 1) {\n\t\t\t\tfor (idx = 0; idx < tracks.length; idx++) {\n\t\t\t\t\tif (tracks[idx].language && (tracks[idx].language.toLowerCase().replace(/[-_]/g, '').indexOf(lang) == 0))\n\t\t\t\t\t\tauto = (auto < 0) ? idx : auto;\n\t\t\t\t\tselect.appendChild(this.htmlOption(idx, tracks[idx]));\n\t\t\t\t}\n\t\t\t\tthis.updateSelect('audiotrack', tracks.length);\n\t\t\t}\n\n\t\t\t// sélectionne éventuellement la piste dans la bonne langue\n\t\t\tselect.selectedIndex = Math.max(0, auto);\n\t\t\tif (auto >= 0)\n\t\t\t\tthis.actionAudiotrack(auto);\n\t\t}\n\t};\n\n\tthis.onTimeupdate = function (ev) {\n\n\t\tvar time = this.video.currentTime, duration = this.video.duration, text = '--:--', hh, mm, ss;\n\n\t\tif (!isNaN(time) && (duration !== Infinity) && !isNaN(duration)) {\n\n\t\t\thh = Math.floor(time / 3600);\n\t\t\tmm = Math.floor((time % 3600) / 60);\n\t\t\tss = Math.floor(time % 60);\n\t\t\tif (ss < 10) ss = '0' + ss;\n\t\t\tif (mm < 10) mm = '0' + mm;\n\n\t\t\thh = (hh > 0) ? hh + ':' : '';\n\t\t\ttext = hh + mm + ':' + ss;\n\n\t\t\thh = Math.floor(duration / 3600);\n\t\t\tmm = Math.floor((duration % 3600) / 60);\n\t\t\tss = Math.floor(duration % 60);\n\t\t\tif (ss < 10) ss = '0' + ss;\n\t\t\tif (mm < 10) mm = '0' + mm;\n\n\t\t\thh = (hh > 0) ? hh + ':' : '';\n\t\t\ttext += ' / ' + hh + mm + ':' + ss;\n\n\t\t\tthis.html('svg.bar rect').style.width = (time / duration * 100) + '%';\n\t\t}\n\n\t\tthis.html('span.time').textContent = text;\n\n\t\t// loader stalled sauf par les tracks\n\t\tif (this.stalled && !this.subload) {\n\t\t\tthis.stalled = false;\n\t\t\tthis.onWaiting(ev);\n\t\t}\n\t};\n\n\tthis.onProgress = function () {\n\n\t\tvar video = this.video, elem = this.html('svg.bar'), idx = video.buffered.length, width, buffer;\n\n\t\tif ((idx > 0) && (video.duration !== Infinity) && !isNaN(video.duration)) {\n\n\t\t\telem.querySelectorAll('.buffer').forEach(function (node) { node.remove(); });\n\t\t\twhile (idx-- > 0) {\n\n\t\t\t\tbuffer = document.createElement('rect');\n\t\t\t\tbuffer.setAttribute('class', 'buffer');\n\n\t\t\t\twidth = (video.buffered.end(idx) - video.buffered.start(idx)) / video.duration * 100;\n\t\t\t\tif (width > 99.8)\n\t\t\t\t\tbuffer.setAttribute('style', 'left:0%; width:100%;');\n\t\t\t\telse\n\t\t\t\t\tbuffer.setAttribute('style', 'left:' + (video.buffered.start(idx) / video.duration * 100) + '%; width:' + width + '%;');\n\n\t\t\t\telem.appendChild(buffer);\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.onPlay = function () { // todo\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif ([1,2].has(this.video.networkState)) {\n\n\t\t\tif (this.video.paused) {\n\t\t\t\tthis.html('span.play').textContent = '\\uE810';\n\t\t\t\t// via un dialogue ou en direct\n\t\t\t\tif (apijs.dialog.t1)\n\t\t\t\t\tapijs.dialog.remove('playing');\n\t\t\t\telse\n\t\t\t\t\tthis.video.parentNode.classList.remove('playing');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.html('span.play').textContent = '\\uE811';\n\t\t\t\t// via un dialogue ou en direct\n\t\t\t\tif (apijs.dialog.t1)\n\t\t\t\t\tapijs.dialog.add('playing');\n\t\t\t\telse\n\t\t\t\t\tthis.video.parentNode.classList.add('playing');\n\t\t\t}\n\t\t}\n\t};\n\n\tthis.onWaiting = function (ev) { // todo\n\t\tapijs.log('player:video:onWaiting:' + ev.type + '  stalled:' + this.stalled + '/subload:' + this.subload);\n\t\tapijs.dialog[['loadstart', 'waiting', 'seeking', 'stalled'].has(ev.type) ? 'add' : 'remove']('loading');\n\t};\n\n\n\t// GESTION DES INTERACTIONS (private return void)\n\n\tthis.actionPlay = function () {\n\n\t\tvar video = this.video;\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif ([1,2].has(video.networkState)) {\n\t\t\tif (video.ended || video.paused)\n\t\t\t\tvideo.play();\n\t\t\telse\n\t\t\t\tvideo.pause();\n\t\t}\n\t};\n\n\tthis.actionVolume = function (ev) {\n\n\t\tvar video = this.video, elem = this.html('svg.vol'), width = elem.offsetWidth, value = 0;\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif ([1,2].has(video.networkState)) {\n\n\t\t\tif ((typeof ev == 'object') && !isNaN(ev.clientX)) {\n\n\t\t\t\tdo { value += elem.offsetLeft; }\n\t\t\t\twhile (elem = elem.offsetParent);\n\n\t\t\t\tvalue = ((ev.clientX - value) * 100 / width) / 100;\n\t\t\t\tvalue = (value <= 0.1) ? 0 : ((value > 0.92) ? 1 : value);\n\n\t\t\t\t//if (self.getComputedStyle(this.html('svg.vol')).direction === 'rtl')\n\t\t\t\t//\tvalue = 1 - value;\n\n\t\t\t\tvideo.volume = value;\n\t\t\t\tvideo.muted  = false;\n\t\t\t}\n\n\t\t\tthis.html('svg.vol rect').style.width = video.muted ? 0 : (video.volume * 100) + '%';\n\t\t}\n\t};\n\n\tthis.actionPosition = function (ev) {\n\n\t\tvar video = this.video, elem = this.html('svg.bar'), width = elem.offsetWidth, value = 0;\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif (([1,2].has(video.networkState)) && (video.duration !== Infinity) && !isNaN(video.duration) && (typeof ev == 'object')) {\n\n\t\t\tdo { value += elem.offsetLeft; }\n\t\t\twhile (elem = elem.offsetParent);\n\n\t\t\tvalue = (video.duration * (ev.clientX - value) * 100 / width) / 100;\n\t\t\tvalue = (value <= 1) ? 0 : value;\n\n\t\t\t//if (self.getComputedStyle(this.html('svg.vol')).direction === 'rtl')\n\t\t\t//\tvalue = video.duration - value;\n\n\t\t\tvideo.currentTime = value;\n\t\t}\n\t};\n\n\tthis.actionVideotrack = function (ev) {\n\n\t\tvar tracks = this.video.videoTracks, value = (typeof ev == 'object') ? ev.target.value : ev, idx;\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif ([1,2].has(this.video.networkState)) {\n\n\t\t\tfor (idx = 0; idx < tracks.length; idx++)\n\t\t\t\ttracks[idx].enabled = (idx == value);\n\n\t\t\tvideo.currentTime -= 1;\n\t\t}\n\n\t\tif (typeof ev == 'object')\n\t\t\tev.target.blur();\n\t};\n\n\tthis.actionAudiotrack = function (ev) {\n\n\t\tvar tracks = this.video.audioTracks, value = (typeof ev == 'object') ? ev.target.value : ev, idx;\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif ([1,2].has(this.video.networkState)) {\n\n\t\t\tfor (idx = 0; idx < tracks.length; idx++)\n\t\t\t\ttracks[idx].enabled = (idx == value);\n\n\t\t\tvideo.currentTime -= 1;\n\t\t}\n\n\t\tif (typeof ev == 'object')\n\t\t\tev.target.blur();\n\t};\n\n\tthis.actionTexttrack = function (ev) {\n\n\t\tvar tracks = this.video.textTracks, value = (typeof ev == 'object') ? ev.target.value : ev, idx;\n\n\t\t// NETWORK_IDLE, NETWORK_LOADING\n\t\tif ([1,2].has(this.video.networkState)) {\n\n\t\t\tfor (idx = 0; idx < tracks.length; idx++)\n\t\t\t\ttracks[idx].mode = (idx == value) ? 'showing' : 'hidden';\n\n\t\t\tthis.subload = true;\n\t\t}\n\n\t\tif (typeof ev == 'object')\n\t\t\tev.target.blur();\n\t};\n\n\tthis.actionVideo = function (ev) {\n\n\t\tthis.html('svg.bar rect').style.width = '0';\n\t\tthis.html('svg.bar').querySelectorAll('.buffer').forEach(function (node) { node.remove(); });\n\t\tthis.html('span.play').textContent = '\\uE810';\n\n\t\tthis.updateSelect('videotrack', 0);\n\t\tthis.updateSelect('audiotrack', 0);\n\n\t\tthis.video.src = this.video.querySelectorAll('source')[(typeof ev == 'object') ? ev.target.value : ev].src;\n\t\tif (typeof ev == 'object')\n\t\t\tev.target.blur();\n\t};\n\n\tthis.actionFullscreen = function () {\n\n\t\t// en direct\n\t\tvar res = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement;\n\t\tthis.video.parentNode.classList[res ? 'add' : 'remove']('fullscreen');\n\t},\n\n\n\t// GÉNÉRATION DES ÉLÉMENTS (private return domelement)\n\n\tthis.htmlSvgPlayer = function () {\n\n\t\tvar d, c, b, a = document.createElement('div');\n\t\ta.setAttribute('class', 'apijsplayer noplaying');\n\n\t\t\tb = document.createElement('span');\n\t\t\tb.setAttribute('class', 'btn play fnt');\n\t\t\tb.appendChild(document.createTextNode('\\uE810'));\n\t\t\tb.onclick = this.actionPlay.bind(this);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('span');\n\t\t\tb.setAttribute('class', 'svg bar');\n\n\t\t\t\tc = document.createElement('svg');\n\t\t\t\tc.setAttribute('class', 'bar');\n\t\t\t\tc.onclick = this.actionPosition.bind(this);\n\n\t\t\t\t\td = document.createElement('rect');\n\n\t\t\t\tc.appendChild(d);\n\n\t\t\tb.appendChild(c);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('span');\n\t\t\tb.setAttribute('class', 'time');\n\t\t\tb.appendChild(document.createTextNode('--:--'));\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('span');\n\t\t\tb.setAttribute('class', 'svg vol nomobile');\n\n\t\t\t\tc = document.createElement('svg');\n\t\t\t\tc.setAttribute('class', 'vol');\n\t\t\t\tc.onclick = this.actionVolume.bind(this);\n\n\t\t\t\t\td = document.createElement('rect');\n\n\t\t\t\tc.appendChild(d);\n\n\t\t\tb.appendChild(c);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('label');\n\t\t\tb.setAttribute('class', 'tracks audiotrack');\n\t\t\tb.setAttribute('style', 'display:none;');\n\t\t\tb.appendChild(apijs.i18n.translateNode(133));\n\n\t\t\t\tc = document.createElement('em');\n\t\t\t\tc.setAttribute('class', 'nomobile');\n\n\t\t\tb.appendChild(c);\n\n\t\t\t\tc = document.createElement('select');\n\t\t\t\tc.setAttribute('lang', 'mul');\n\t\t\t\tc.onchange = this.actionAudiotrack.bind(this);\n\n\t\t\tb.appendChild(c);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('label');\n\t\t\tb.setAttribute('class', 'tracks videotrack');\n\t\t\tb.setAttribute('style', 'display:none;');\n\t\t\tb.appendChild(apijs.i18n.translateNode(132));\n\n\t\t\t\tc = document.createElement('em');\n\t\t\t\tc.setAttribute('class', 'nomobile');\n\n\t\t\tb.appendChild(c);\n\n\t\t\t\tc = document.createElement('select');\n\t\t\t\tc.setAttribute('lang', 'mul');\n\t\t\t\tc.onchange = this.actionVideotrack.bind(this);\n\n\t\t\tb.appendChild(c);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('label');\n\t\t\tb.setAttribute('class', 'tracks video');\n\t\t\tb.setAttribute('style', 'display:none;');\n\t\t\tb.appendChild(apijs.i18n.translateNode(131));\n\n\t\t\t\tc = document.createElement('em');\n\t\t\t\tc.setAttribute('class', 'nomobile');\n\n\t\t\tb.appendChild(c);\n\n\t\t\t\tc = document.createElement('select');\n\t\t\t\tc.setAttribute('lang', 'mul');\n\t\t\t\tc.onchange = this.actionVideo.bind(this);\n\n\t\t\tb.appendChild(c);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('label');\n\t\t\tb.setAttribute('class', 'tracks texttrack');\n\t\t\tb.setAttribute('style', 'display:none;');\n\t\t\tb.appendChild(apijs.i18n.translateNode(134));\n\n\t\t\t\tc = document.createElement('em');\n\t\t\t\tc.setAttribute('class', 'nomobile');\n\n\t\t\tb.appendChild(c);\n\n\t\t\t\tc = document.createElement('select');\n\t\t\t\tc.setAttribute('lang', 'mul');\n\t\t\t\tc.onchange = this.actionTexttrack.bind(this);\n\n\t\t\t\t\td = document.createElement('option');\n\t\t\t\t\td.appendChild(apijs.i18n.translateNode(135)); // off\n\n\t\t\t\tc.appendChild(d);\n\n\t\t\tb.appendChild(c);\n\n\t\ta.appendChild(b);\n\n\t\t\tb = document.createElement('span');\n\t\t\tb.setAttribute('class', 'btn full fnt nomobile');\n\t\t\tb.appendChild(document.createTextNode('\\uE80F'));\n\t\t\tb.onclick = function () {\n\t\t\t\t// via un dialogue ou en direct\n\t\t\t\tif (apijs.dialog.t1) {\n\t\t\t\t\tapijs.requestFullscreen(apijs.dialog.t1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (document.webkitFullscreenEnabled)\n\t\t\t\t\t\tdocument.addEventListener('webkitfullscreenchange', this.actionFullscreen.bind(this));\n\t\t\t\t\telse if (document.fullscreenEnabled)\n\t\t\t\t\t\tdocument.addEventListener('fullscreenchange', this.actionFullscreen.bind(this));\n\t\t\t\t\telse if (document.mozFullScreenEnabled)\n\t\t\t\t\t\tdocument.addEventListener('mozfullscreenchange', this.actionFullscreen.bind(this));\n\t\t\t\t\tapijs.requestFullscreen(this.video.parentNode);\n\t\t\t\t}\n\n\t\t\t}.bind(this);\n\n\t\ta.appendChild(b);\n\n\t\treturn a;\n\t};\n\n\tthis.htmlTrack = function (data) { // todo\n\n\t\tvar a = document.createElement('track');\n\t\ta.setAttribute('kind', data[1]);\n\t\ta.setAttribute('label', data[2]);\n\t\ta.setAttribute('srclang', data[3]);\n\t\ta.setAttribute('src', data[4]);\n\n\t\ta.onload = function (ev) {\n\t\t\tapijs.log('player:track:onload ' + ev.target.src.slice(ev.target.src.lastIndexOf('/') + 1));\n\t\t\tif (ev.target.track.mode === 'showing') {\n\t\t\t\tthis.onWaiting(ev);\n\t\t\t\tthis.subload = false;\n\t\t\t}\n\t\t}.bind(this);\n\n\t\ta.onerror = function (ev) {\n\t\t\tapijs.log('player:track:onerror ' + ev.target.src.slice(ev.target.src.lastIndexOf('/') + 1));\n\t\t\tif (ev.target.track.mode === 'showing') {\n\t\t\t\tthis.onWaiting(ev);\n\t\t\t\tthis.subload = false;\n\t\t\t}\n\t\t}.bind(this);\n\n\t\treturn a;\n\t};\n\n\tthis.htmlSource = function (url) {\n\n\t\tvar a = document.createElement('source');\n\t\ta.setAttribute('src', url);\n\t\ta.onerror = apijs.dialog.onMediaLoad;\n\n\t\treturn a;\n\t};\n\n\tthis.htmlOption = function (idx, txt) {\n\n\t\tif (typeof txt == 'object')\n\t\t\ttxt = (txt.label === '') ? txt.language.toLowerCase() : txt.language.toLowerCase() + ' - ' + txt.label;\n\n\t\tvar a = document.createElement('option');\n\t\ta.setAttribute('value', idx);\n\t\ta.appendChild(document.createTextNode(txt));\n\n\t\treturn a;\n\t};\n\n\n\tthis.autoRun(video, url);\n};","/**\n * Created J/13/05/2010\n * Updated V/01/01/2021\n *\n * Copyright 2008-2021 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * https://www.luigifab.fr/apijs\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\napijs.core.slideshow = function () {\n\n\t\"use strict\";\n\tthis.current = null;\n\n\n\t// AFFICHAGE DE LA BOÎTE DE DIALOGUE (public return void|boolean)\n\n\tthis.init = function () {\n\n\t\tvar i, j, elem, ids = apijs.config.slideshow.ids, hoverload = false;\n\n\t\tfor (i = 0; elem = apijs.html(ids + '.' + i, true); i++) {\n\n\t\t\thoverload = elem.classList.contains('hoverload');\n\n\t\t\tfor (j = 0; elem = apijs.html(ids + '.' + i + '.' + j, true); j++) {\n\t\t\t\telem.addEventListener('click', this.show);\n\t\t\t\tif (hoverload)\n\t\t\t\t\telem.addEventListener('mouseover', this.show);\n\t\t\t}\n\n\t\t\tif (elem = apijs.html(ids + '.' + i + '.99999', true))\n\t\t\t\telem.addEventListener('click', this.show);\n\t\t}\n\n\t\tthis.onPopState();\n\t};\n\n\tthis.onPopState = function () {\n\n\t\t// \\\\ au lieu de \\ sinon Bad or unnecessary escaping\n\t\tif (new RegExp('#(' + apijs.config.slideshow.ids + '[\\-\\\\.]\\\\d+[\\-\\\\.]\\\\d+)').test(self.location.href)) {\n\t\t\tvar id = RegExp.$1.replace(/-/g, '.');\n\t\t\tif (apijs.html(id, true) && !apijs.dialog.has('slideshow')) // Chrome 31 et Opera 19 passent 2 fois sans le !has\n\t\t\t\tapijs.slideshow.show(id, false);\n\t\t}\n\t\telse if (apijs.slideshow.current) {\n\t\t\tapijs.dialog.actionClose();\n\t\t}\n\t};\n\n\tthis.show = function (ev, push) { // todo\n\n\t\tvar source, show = false, media = {}, src, srcset, total, hash;\n\n\t\t// recherche de la source (élément a)\n\t\t// recherche des informations du média (1/4, id)\n\t\t// la source est soit une miniature (ev=click/mouseover/stringId) soit l'image principale (ev=click)\n\t\tif (typeof ev == 'string') {\n\t\t\tshow     = true;\n\t\t\tsource   = apijs.html(ev, true);\n\t\t\tmedia.id = ev;\n\t\t}\n\t\telse {\n\t\t\tev.preventDefault();\n\t\t\tsource = ev.target;\n\t\t\twhile (source.nodeName !== 'A')\n\t\t\t\tsource = source.parentNode;\n\n\t\t\t// stop sur miniature déjà à jour en mode gallery\n\t\t\tif ((ev.type === 'mouseover') && source.classList.contains('current'))\n\t\t\t\treturn false;\n\n\t\t\tmedia.id = source.getAttribute('id');\n\t\t}\n\n\t\t// recherche des informations du média (2/4, prefix|number|gallery)\n\t\tmedia.prefix  = apijs.config.slideshow.ids + '.' + media.id.split('.')[1];\n\t\tmedia.number  = parseInt(media.id.split('.')[2], 10);\n\t\tmedia.gallery = apijs.html(media.prefix + '.99999', true);\n\n\t\t// SI SOURCE N'EST PAS L'IMAGE PRINCIPALE DU MODE GALLERY\n\t\t// marque la source avec la class current\n\t\t// prend soin de supprimer les anciennes class current\n\t\t// v5.1 soit sur le lien (avant sur l'image elle même), soit sur le dl\n\t\tif (media.number !== 99999) {\n\n\t\t\tvar links = apijs.html(media.prefix, true).querySelectorAll('a[id][type]'),\n\t\t\t    conts = apijs.html(media.prefix, true).querySelectorAll('dl');\n\n\t\t\tif (media.gallery || (links.length !== conts.length)) {\n\t\t\t\tlinks.forEach(function (elem) { elem.classList.remove('current'); });\n\t\t\t\tsource.setAttribute('class', 'current');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconts.forEach(function (elem) { elem.classList.remove('current'); });\n\t\t\t\tsource.parentNode.parentNode.setAttribute('class', 'current');\n\t\t\t}\n\t\t}\n\n\t\t// UNIQUEMENT EN MODE GALLERY\n\t\t// recherche des informations du média (3/4, [number]|config)\n\t\t// réaffecte la source sur la miniature et non sur l'image principale SI SOURCE = IMAGE PRINCIPALE\n\t\t// réaffecte le numéro du média sur la miniature et non sur l'image principale SI SOURCE = IMAGE PRINCIPALE\n\t\t// supprime l'adresse de l'image principale de la configuration du média (media.config = url|name|date|legend)\n\t\t// met à jour l'image principale SAUF SI SOURCE = IMAGE PRINCIPALE (puisque tout est déjà correct)\n\t\tif (media.gallery) {\n\n\t\t\tif (media.number === 99999) {\n\t\t\t\tshow   = true;\n\t\t\t\tsource = (media.gallery.hasAttribute('class')) ? media.gallery.getAttribute('class') : media.prefix + '.0';\n\t\t\t\tsource = apijs.html(source, true);\n\t\t\t\tmedia.number = parseInt(source.getAttribute('id').split('.')[2], 10);\n\t\t\t\tmedia.id     = media.id.replace(99999, media.number);\n\t\t\t}\n\n\t\t\tmedia.config = source.querySelector('input').getAttribute('value').split('|');\n\n\t\t\tsrc = media.config.shift();\n\t\t\tif (src.indexOf(';') > 0) {\n\t\t\t\tsrc    = src.split(';');\n\t\t\t\tsrcset = src[1].trim();\n\t\t\t\tsrc    = src[0].trim();\n\t\t\t}\n\n\t\t\tmedia.gallery.setAttribute('href', source.getAttribute('href'));\n\t\t\tmedia.gallery.querySelector('img').setAttribute('src', src);\n\t\t\tmedia.gallery.querySelector('img').setAttribute('srcset', srcset ? srcset : '');\n\t\t\tmedia.gallery.querySelector('img').setAttribute('alt', source.querySelector('img').getAttribute('alt'));\n\t\t\tmedia.gallery.setAttribute('class', media.id);\n\t\t}\n\t\t// UNIQUEMENT EN MODE ALBUM\n\t\t// recherche des informations du média (3/4, config)\n\t\telse {\n\t\t\tshow = true;\n\t\t\tmedia.config = source.querySelector('input').getAttribute('value').split('|');\n\t\t}\n\n\t\t// recherche des informations du média (4/4, url|type|styles)\n\t\t// défini le type de dialogue à partir du mimetype du lien de la source si cela est possible\n\t\tmedia.url    = source.getAttribute('href');\n\t\tmedia.type   = source.getAttribute('type').substr(0, 5).replace('image', 'dialogPhoto').replace('video', 'dialogVideo');\n\t\tmedia.type   = (media.type.indexOf('dialog') === 0) ? media.type : 'dialogPhoto';\n\t\tmedia.styles = apijs.html(media.prefix, true).getAttribute('class').replace(/gallery|album/g, '').trim();\n\n\t\t// demande l'affichage du dialogue\n\t\t// lors d'un clic sur l'image principale du mode gallery\n\t\t// ou lors d'un clic sur les miniatures en mode album\n\t\t// ou lors d'un appel direct\n\t\tif (show) {\n\n\t\t\tapijs.dialog[media.type](media.url, media.config[0], media.config[1], media.config[2], media.styles);\n\n\t\t\ttotal = apijs.html(media.prefix, true).querySelectorAll('a[id][type]').length - (media.gallery ? 2 : 1);\n\t\t\tapijs.slideshow.current = {\n\t\t\t\tnumber: media.number,\n\t\t\t\tfirst:  media.prefix + '.0',\n\t\t\t\tprev:   (media.number > 0) ? media.prefix + '.' + (media.number - 1) : null,\n\t\t\t\tnext:   (media.number < total) ? media.prefix + '.' + (media.number + 1) : null,\n\t\t\t\tlast:   media.prefix + '.' + total,\n\t\t\t\ttotal:  total\n\t\t\t};\n\n\t\t\t// boutons précédent et suivant\n\t\t\tif (apijs.slideshow.current.prev)\n\t\t\t\tapijs.html('#Prev').removeAttribute('disabled');\n\t\t\tif (apijs.slideshow.current.next)\n\t\t\t\tapijs.html('#Next').removeAttribute('disabled');\n\n\t\t\t// gestion de l'historique\n\t\t\t// met à jour l'ancre uniquement si l'utilisateur ne joue pas avec son historique\n\t\t\tif (apijs.config.slideshow.anchor && (typeof history.pushState == 'function') && ((typeof push == 'boolean') ? push : true)) {\n\t\t\t\thash  = self.location.href;\n\t\t\t\thash  = (hash.indexOf('#') > 0) ? hash.slice(0, hash.indexOf('#')) : hash;\n\t\t\t\thash += '#' + (media.prefix + '.' + ((media.number === 99999) ? 0 : media.number)).replace(/\\./g,'-');\n\t\t\t\thistory.pushState({}, '', hash);\n\t\t\t}\n\t\t}\n\n\t\treturn show;\n\t};\n\n\n\t// GESTION DES INTERACTIONS (public return boolean)\n\n\tthis.actionFirst = function () {\n\n\t\tif (this.current && (this.current.number > 0) && (this.current.number <= this.current.total))\n\t\t\treturn this.show(this.current.first);\n\n\t\treturn false;\n\t};\n\n\tthis.actionPrev = function () {\n\n\t\tif (this.current && this.current.prev && (this.current.number > 0))\n\t\t\treturn this.show(this.current.prev);\n\n\t\treturn false;\n\t};\n\n\tthis.actionNext = function () {\n\n\t\tif (this.current && this.current.next && (this.current.number < this.current.total))\n\t\t\treturn this.show(this.current.next);\n\n\t\treturn false;\n\t};\n\n\tthis.actionLast = function () {\n\n\t\tif (this.current && (this.current.number >= 0) && (this.current.number < this.current.total))\n\t\t\treturn this.show(this.current.last);\n\n\t\treturn false;\n\t};\n};","/**\n * Created L/13/04/2009\n * Updated V/18/06/2021\n *\n * Copyright 2008-2021 | Fabrice Creuzot (luigifab) <code~luigifab~fr>\n * https://www.luigifab.fr/apijs\n *\n * This program is free software, you can redistribute it or modify\n * it under the terms of the GNU General Public License (GPL) as published\n * by the free software foundation, either version 2 of the license, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but without any warranty, without even the implied warranty of\n * merchantability or fitness for a particular purpose. See the\n * GNU General Public License (GPL) for more details.\n */\n\napijs.core.upload = function () {\n\n\t\"use strict\";\n\tthis.title    = null;\n\tthis.action   = null;\n\tthis.input    = null;\n\tthis.onemax   = 0; // taille d'un seul fichier\n\tthis.allmax   = 0; // taille de tous les fichiers\n\tthis.exts     = null;\n\tthis.callback = null;\n\tthis.args     = null;\n\tthis.icon     = null;\n\n\tthis.files = [];\n\tthis.start = 0; // time\n\tthis.end   = 0; // time\n\n\n\t// AFFICHAGE DE LA BOÎTE DE DIALOGUE (public return boolean)\n\n\tthis.sendFile = function (title, action, input, onemax, exts, callback, args, icon) {\n\n\t\tvar res = this.sendFiles(title, action, input, onemax, 0, exts, callback, args, icon);\n\t\tif (!res) console.error('apijs.upload.sendFile invalid arguments', arguments);\n\n\t\treturn res;\n\t};\n\n\tthis.sendFiles = function (title, action, input, onemax, allmax, exts, callback, args, icon) {\n\n\t\tthis.files = [];\n\t\tif (title !== true) {\n\t\t\tthis.title    = title;\n\t\t\tthis.action   = action;\n\t\t\tthis.input    = input;\n\t\t\tthis.onemax   = onemax;\n\t\t\tthis.allmax   = allmax;\n\t\t\tthis.exts     = (typeof exts == 'string') ? exts.split(',') : ['*'];\n\t\t\tthis.callback = callback;\n\t\t\tthis.args     = args;\n\t\t\tthis.icon     = icon;\n\t\t}\n\n\t\tif ((typeof this.title == 'string') && (typeof this.action == 'string') && (typeof this.input == 'string') &&\n\t\t    (typeof this.onemax == 'number') && (typeof this.allmax == 'number') && (typeof this.callback == 'function')) {\n\n\t\t\tvar text, multiple = this.allmax > 0;\n\n\t\t\tif (this.exts.join() === '*')\n\t\t\t\ttext = apijs.i18n.translate(161);\n\t\t\telse if (this.exts.length === 1)\n\t\t\t\ttext = apijs.i18n.translate(162, this.exts.join());\n\t\t\telse\n\t\t\t\ttext = apijs.i18n.translate(163, this.exts.slice(0, -1).join(', '), this.exts.slice(-1));\n\n\t\t\ttext += '[br]' + apijs.i18n.translate(\n\t\t\t\tmultiple ? 165 : 164, // clef de traduction\n\t\t\t\tapijs.formatNumber(this.onemax), // taille d'un fichier\n\t\t\t\tmultiple ? apijs.formatNumber(this.allmax) : '' // taille de tous les fichiers\n\t\t\t).replace('|', '[br]');\n\n\t\t\treturn apijs.dialog.dialogFormUpload(this.title, text, this.action, this.input, multiple, this.icon);\n\t\t}\n\n\t\tif ((typeof this.allmax != 'number') || (this.allmax > 0))\n\t\t\tconsole.error('apijs.upload.sendFiles invalid arguments', arguments);\n\n\t\treturn false;\n\t};\n\n\n\t// GESTION DES INTERACTIONS (private return void)\n\n\tthis.actionDrag = function (ev) {\n\n\t\tif (ev.type == 'dragenter') {\n\t\t\tapijs.dialog.add('drag');\n\t\t}\n\t\telse if (ev.type == 'dragleave') {\n\t\t\tapijs.dialog.remove('drag');\n\t\t}\n\t\telse if (ev.dataTransfer && ev.dataTransfer.files && (ev.dataTransfer.files.length > 0)) {\n\t\t\tthis.actionChoose(ev.dataTransfer);\n\t\t\tapijs.dialog.remove('drag');\n\t\t}\n\n\t\tev.stopPropagation();\n\t\tev.preventDefault();\n\t};\n\n\tthis.actionChoose = function (elem) {\n\n\t\tvar html = [], size = 0, error = false, btn = apijs.html('button.confirm'), text;\n\t\tthis.files = [];\n\n\t\tif (this.exts) {\n\n\t\t\t// 1048576 octet = 1 Mo\n\t\t\tArray.prototype.forEach.call((this.allmax > 0) ? elem.files : Array.prototype.slice.call(elem.files, 0, 1), function (file, idx) {\n\n\t\t\t\ttext = file.size / 1048576;\n\t\t\t\ttext = apijs.formatNumber((text < 0.01) ? 0.01 : text);\n\t\t\t\ttext = ((this.allmax > 0) ? '<td class=\"nb\">' + (idx + 1) + '</td>' : '') +\n\t\t\t\t\t'<td class=\"name\">' + file.name + '</td><td class=\"size\">' + apijs.i18n.translate(166, text) + '</td>';\n\n\t\t\t\tif ((this.exts.join() !== '*') && !this.exts.has(file.name.slice(file.name.lastIndexOf('.') + 1).toLowerCase())) {\n\t\t\t\t\ttext += '<td class=\"err\">' + apijs.i18n.translate(167) + '</td>';\n\t\t\t\t\terror = true;\n\t\t\t\t}\n\t\t\t\telse if (file.size > (this.onemax * 1048576)) {\n\t\t\t\t\ttext += '<td class=\"err\">' + apijs.i18n.translate(168) + '</td>';\n\t\t\t\t\terror = true;\n\t\t\t\t}\n\t\t\t\telse if (file.size <= 0) {\n\t\t\t\t\ttext += '<td class=\"err\">' + apijs.i18n.translate(169) + '</td>';\n\t\t\t\t\terror = true;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttext += '<td></td>';\n\t\t\t\t\tthis.files.push(file);\n\t\t\t\t}\n\n\t\t\t\thtml.push('<tr>' + text + '</tr>');\n\t\t\t\tsize += file.size / 1048576;\n\n\t\t\t}, this); // pour que ci-dessus this = this\n\n\t\t\t// multiple\n\t\t\tif ((this.allmax > 0) && (size >= this.allmax)) {\n\t\t\t\thtml.push('<tr class=\"tt\"><td></td><td></td><td class=\"size\">' + apijs.i18n.translate(166, apijs.formatNumber(size)) + '</td><td class=\"err\">' + apijs.i18n.translate(168) + '</td></tr>');\n\t\t\t\terror = true;\n\t\t\t}\n\n\t\t\t// ok ou ko\n\t\t\tif (error) {\n\t\t\t\tbtn.setAttribute('disabled', 'disabled');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbtn.removeAttribute('disabled');\n\t\t\t\tbtn.focus();\n\t\t\t}\n\n\t\t\tapijs.html('div.filenames').innerHTML = '<table>' + html.join('') + '</table>';\n\t\t}\n\t};\n\n\tthis.actionConfirm = function () {\n\n\t\tif (this.files.length > 0) {\n\n\t\t\tvar form = new FormData(), xhr = new XMLHttpRequest(), tmp;\n\t\t\txhr.open('POST', this.action + ((this.action.indexOf('?') > 0) ? '&isAjax=true' : '?isAjax=true'), true);\n\n\t\t\t// token\n\t\t\tif (typeof apijs.config.upload.tokenValue == 'string') {\n\t\t\t\txhr.setRequestHeader(apijs.config.upload.tokenName, apijs.config.upload.tokenValue);\n\t\t\t\tform.append(apijs.config.upload.tokenName, apijs.config.upload.tokenValue);\n\t\t\t}\n\n\t\t\t// champs supplémentaires\n\t\t\ttmp = apijs.serialize(apijs.dialog.t2);\n\t\t\tif (tmp.length > 3) {\n\t\t\t\ttmp.split('&').forEach(function (data) {\n\t\t\t\t\tdata = data.split('=');\n\t\t\t\t\tform.append(data[0], data[1]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// fichier(s)\n\t\t\tthis.files.forEach(function (file, idx, files) {\n\t\t\t\tform.append(((files.length > 1) && (this.input.indexOf('[') < 0)) ? this.input + '_' + idx : this.input, file);\n\t\t\t}, this); // pour que ci-dessus this = this\n\n\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=637002\n\t\t\t// https://stackoverflow.com/a/15491086\n\t\t\t// loadstart - When the request starts\n\t\t\t//  progress - While sending and loading data\n\t\t\t//      load - When the request has successfully completed even if the server hasn't responded that it finished\n\t\t\t//   loadend - When the request has completed even if the server hasn't responded that it finished processing the request\n\t\t\t//     error - When the request has failed\n\t\t\t//     abort - When the request has been aborted (by invoking the abort method)\n\t\t\t//   timeout - When the author specified timeout has passed before the request could complete\n\t\t\txhr.onreadystatechange = function (text) {\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttext = xhr.responseText.trim();\n\t\t\t\t\tif ([0, 200].has(xhr.status)) {\n\t\t\t\t\t\tself.dispatchEvent(new CustomEvent('apijsajaxresponse', { detail: { from: 'apijs.upload.send', xhr: xhr } }));\n\t\t\t\t\t\tapijs.log('upload:onreadystatechange status:200 message:' + text);\n\t\t\t\t\t\tif (text.indexOf('success-') === 0) {\n\t\t\t\t\t\t\tthis.updateTitle();\n\t\t\t\t\t\t\tthis.callback(text.slice(8), this.args);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.onError(195, text);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tapijs.log('upload:onreadystatechange status:' + xhr.status + ' message: ' + text);\n\t\t\t\t\t\tthis.onError(194, xhr.status);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(this); // pour que ci-dessus this = this\n\n\t\t\txhr.upload.onloadstart = this.onStart.bind(this);\n\t\t\txhr.upload.onprogress  = this.onProgress.bind(this);\n\t\t\txhr.upload.onload      = this.onProgress.bind(this);\n\t\t\txhr.upload.onerror     = this.onError.bind(this);\n\t\t\txhr.send(form);\n\t\t}\n\t\telse {\n\t\t\tapijs.html('button.browse').focus();\n\t\t}\n\n\t\treturn false; // très important\n\t};\n\n\tthis.onStart = function () {\n\n\t\tthis.start = this.end = Math.round(new Date().getTime() / 1000);\n\t\tapijs.dialog.dialogProgress(this.title, apijs.i18n.translate(125), this.icon);\n\t};\n\n\tthis.onError = function (key, txt) {\n\n\t\tthis.updateTitle();\n\n\t\tif (typeof key == 'number')\n\t\t\ttxt = '[p]' + apijs.i18n.translate(key) + '[/p] ' + txt;\n\t\telse if (typeof txt != 'string')\n\t\t\ttxt = '[p]' + apijs.i18n.translate(193) + '[/p]';\n\n\t\ttxt += '[p]' + apijs.i18n.translate(196, 'href=\"apijs://restart\" onclick=\"apijs.upload.sendFile(true); return false;\"') + '[/p]';\n\t\tapijs.dialog.dialogInformation(this.title, txt, (typeof this.icon == 'string') ? 'upload error ' + this.icon : 'upload error');\n\t};\n\n\tthis.onProgress = function (ev) {\n\n\t\tvar percent, key, rate, time, elapsedTime, totalTime, currentTime = Math.round(new Date().getTime() / 1000), mins;\n\n\t\t// Cherche à actualiser la barre de progression toutes les 2 secondes (uniquement de 1 à 99%)\n\t\t// affiche le pourcentage, la vitesse à partir de 25 secondes, le temps restant à partir de 40 secondes ET 90 secondes de temps total\n\t\tif (ev.lengthComputable && (ev.type === 'progress') && (currentTime >= (this.end + 2))) {\n\n\t\t\tthis.end = currentTime;\n\n\t\t\t// Math.floor = entier inférieur, Math.ceil = entier supérieur, Math.round = au mieux\n\t\t\t// ev.loaded = nombre d'octet envoyé sur le serveur\n\t\t\t// ev.total  = nombre d'octet à envoyer sur le serveur\n\t\t\t// pourcentage = nombre d'octet envoyé * 100 / nombre d'octet à envoyer\n\t\t\tpercent = Math.floor((ev.loaded * 100) / ev.total);\n\n\t\t\tif ((percent > 0) && (percent < 100)) {\n\n\t\t\t\tthis.updateTitle(percent);\n\n\t\t\t\t// temps écoulé = maintenant - départ\n\t\t\t\t// temps total  = temps écoulé * 100 / pourcentage + 10 secondes\n\t\t\t\telapsedTime = currentTime - this.start;\n\t\t\t\ttotalTime   = elapsedTime * 100 / percent + 10;\n\n\t\t\t\tif (elapsedTime > 24) {\n\n\t\t\t\t\t// temps restant = temps total - temps écoulé\n\t\t\t\t\ttime = Math.round(totalTime - elapsedTime);\n\t\t\t\t\ttime = Math.ceil(time / 10) * 10;\n\t\t\t\t\tmins = Math.ceil(time / 60);\n\n\t\t\t\t\t// vitesse = taille téléchargé / temps écoulé / 1024\n\t\t\t\t\trate = Math.round(ev.loaded / elapsedTime / 1024);\n\n\t\t\t\t\tif ((elapsedTime < 40) || (totalTime < 90)) { key = 184; time = null; } // \"§% - § ko/s\"\n\t\t\t\t\telse if (mins > 1)  { key = 181; time = mins; } // \"§% - § ko/s - § minutes restantes\"\n\t\t\t\t\telse if (time > 50) { key = 182; time = 1; }    // \"§% - § ko/s - § minute restante\"\n\t\t\t\t\telse                { key = 183; }              // \"§% - § ko/s - § secondes restantes\"\n\t\t\t\t}\n\n\t\t\t\tthis.updateProgress(percent, key, rate, time);\n\t\t\t}\n\t\t}\n\t\t// Cherche à actualiser la barre de progression lorsque l'envoi du fichier est terminé (donc à 100%)\n\t\t// affiche le pourcentage, le temps total à partir de 20 secondes, la vitesse si possible\n\t\telse if (ev.type === 'load') {\n\n\t\t\t// temps total = temps actuel - temps du départ\n\t\t\ttime = Math.round(new Date().getTime() / 1000) - this.start;\n\t\t\tmins = Math.ceil(time / 60);\n\n\t\t\t// vitesse = taille total / temps total / 1024\n\t\t\trate = Math.round(ev.loaded / time / 1024);\n\n\t\t\tif ((rate > 0) && (rate !== Infinity)) {\n\t\t\t\tif      (mins > 1)  { key = 185; time = mins; } // \"§% - à § ko/s en § minutes\"\n\t\t\t\telse if (time > 50) { key = 186; time = 1; }    // \"§% - à § ko/s en § minute\"\n\t\t\t\telse if (time > 20) { key = 187; }              // \"§% - à § ko/s en § secondes\"\n\t\t\t\telse                { key = 188; time = null; } // \"§% - à § ko/s\"\n\t\t\t}\n\t\t\telse {\n\t\t\t\trate = null; time = null; // 100%\n\t\t\t}\n\n\t\t\tthis.updateTitle(100);\n\t\t\tthis.updateProgress(100, key, rate, time);\n\t\t}\n\t};\n\n\tthis.updateProgress = function (percent, key, rate, time) {\n\n\t\tvar rect = apijs.html('rect'), text = apijs.html('span.info'), data;\n\n\t\tif (percent > 99) {\n\t\t\tdata = '100%';\n\t\t\trect.setAttribute('class', 'end');\n\t\t\trect.style.width = '';\n\t\t\tvar elem = apijs.html('p');\n\t\t\telem.setAttribute('data-old', elem.textContent);\n\t\t\telem.setAttribute('data-new', apijs.i18n.translate(126));\n\t\t\telem.setAttribute('class', 'anim');\n\t\t\telem.textContent = '';\n\t\t}\n\t\telse {\n\t\t\trect.style.width = data = percent + '%';\n\t\t\tif (rect.hasAttribute('class'))\n\t\t\t\trect.removeAttribute('class');\n\t\t}\n\n\t\tif ((typeof key == 'number') && (typeof rate == 'number') && (typeof time == 'number'))\n\t\t\tdata = apijs.i18n.translate(key, percent, apijs.formatNumber(rate, false), time);\n\t\telse if ((typeof key == 'number') && (typeof rate == 'number'))\n\t\t\tdata = apijs.i18n.translate(key, percent, apijs.formatNumber(rate, false));\n\n\t\ttext.textContent = data;\n\t};\n\n\tthis.updateTitle = function (percent) {\n\n\t\tif (typeof percent == 'number') {\n\t\t\tdocument.title = (/^\\d{1,3}% - /.test(document.title)) ?\n\t\t\t\tpercent + '% - ' + document.title.slice(document.title.indexOf(' - ') + 3) : percent + '% - ' + document.title;\n\t\t}\n\t\telse if (/^\\d{1,3}% - /.test(document.title)) {\n\t\t\tdocument.title = document.title.slice(document.title.indexOf(' - ') + 3);\n\t\t}\n\t};\n};"],"names":["Array","prototype","has","needle","key","hasOwnProperty","this","window","NodeList","forEach","callback","that","i","length","call","apijs","core","version","config","lang","debug","dialog","closeOnClick","restrictNavigation","player","slideshow","ids","anchor","upload","tokenName","tokenValue","start","elem","console","info","toString","split","join","document","getElementById","Error","querySelector","getAttribute","indexOf","error","i18n","self","dispatchEvent","CustomEvent","init","querySelectorAll","startPlayer","addEventListener","onPopState","Object","keys","data","formatNumber","nb","dec","str","dgt","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","ignore","toFixed","replace","url","videoPlayer","parentNode","classList","add","toArray","slice","openTab","ev","preventDefault","href","open","log","txt","html","selector","id","t1","requestFullscreen","webkitFullscreenElement","webkitCancelFullScreen","mozFullScreenElement","mozCancelFullScreen","fullscreenElement","cancelFullScreen","webkitRequestFullscreen","mozRequestFullScreen","serialize","form","filter","elements","idx","name","disabled","type","options","selected","push","encodeURIComponent","value","checked","bind","cs","103","104","105","106","107","132","133","134","142","144","146","149","150","de","108","109","124","143","145","147","148","161","162","163","164","167","168","169","181","182","183","185","186","187","188","191","192","193","194","195","196","en","102","125","126","127","131","135","141","165","166","184","es","fr","it","ja","nl","pl","pt","ptbr","ru","sk","tr","uk","zh","toLowerCase","translate","word","translation","arguments","translateNode","createTextNode","apply","changeLang","klass","height","scroll","args","xhr","ft","ti","ns","media","t0","t2","a","b","c","d","dialogInformation","title","text","icon","htmlParent","htmlContent","htmlBtnOk","show","dialogConfirmation","htmlBtnConfirm","dialogFormOptions","action","dialogFormUpload","input","multiple","htmlUpload","dialogProgress","htmlSvgProgress","dialogWaiting","htmlSvgLoader","dialogPhoto","date","legend","htmlMedia","htmlHelp","htmlBtnClose","htmlBtnNavigation","dialogVideo","dialogIframe","close","htmlIframe","dialogAjax","XMLHttpRequest","onreadystatechange","readyState","remove","send","update","setAttribute","css","splice","toggle","search","actionClose","history","pushState","RegExp","test","location","target","clear","onCloseBrowser","stopPropagation","m","returnValue","onResizeBrowser","body","clientWidth","onScrollBrowser","brk","nodeName","Date","getTime","detail","wheelDelta","contains","scrollTop","scrollHeight","offsetHeight","onScrollIframe","defaultView","innerHeight","pageYOffset","onKey","ctrlKey","keyCode","altKey","actionLast","actionFirst","actionPrev","actionNext","networkState","ended","paused","play","pause","duration","Infinity","isNaN","currentTime","muted","volume","onFullscreen","res","onIframeLoad","removeAttribute","contentWindow","parent","passive","onMediaLoad","src","elems","currentSrc","lastIndexOf","style","visibility","hasAttribute","imageLoader","selectedIndex","actionVideo","actionConfirm","setTimeout","isLocked","trim","matchMedia","matches","concat","createDocumentFragment","focus","minHeight","old","appendChild","firstChild","webkitFullscreenEnabled","fullscreenEnabled","mozFullScreenEnabled","isAll","abort","removeEventListener","parseFloat","getComputedStyle","submit","drag","createElement","innerHTML","click","isMultiple","isDelayed","createElementNS","fileid","Image","onload","onerror","ondurationchange","isSlideshow","isVideo","items","item","shift","video","stalled","subload","autoRun","onloadedmetadata","onTimeupdate","onProgress","onVideotrack","onAudiotrack","onstalled","onWaiting","onplaying","onPlay","onpause","onended","onprogress","ontimeupdate","onseeking","onseeked","onwaiting","onloadstart","oncanplay","onclick","actionPlay","onvolumechange","actionVolume","htmlSvgPlayer","htmlSource","from","childNodes","status","nbv","nbt","responseText","htmlOption","htmlTrack","updateSelect","textTracks","total","adjust","textContent","tracks","videoTracks","select","auto","language","Math","max","actionVideotrack","audioTracks","actionAudiotrack","hh","mm","ss","time","floor","width","buffer","buffered","node","end","offsetWidth","clientX","offsetLeft","offsetParent","actionPosition","enabled","blur","actionTexttrack","mode","actionFullscreen","onchange","track","label","current","j","hoverload","$1","source","conts","prefix","number","parseInt","gallery","links","srcset","substr","styles","first","prev","next","last","hash","onemax","allmax","exts","files","sendFile","sendFiles","actionDrag","dataTransfer","actionChoose","size","btn","file","tmp","FormData","setRequestHeader","append","updateTitle","onError","onStart","round","percent","rate","elapsedTime","mins","lengthComputable","loaded","totalTime","ceil","updateProgress","rect"],"mappings":"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"}