/**
 * Created V/08/05/2009
 * Updated J/11/06/2015
 * Version 144
 *
 * Copyright 2008-2015 | Fabrice Creuzot (luigifab) <code~luigifab~info>
 * http://www.luigifab.info/apijs
 *
 * This program is free software, you can redistribute it or modify
 * it under the terms of the GNU General Public License (GPL) as published
 * by the free software foundation, either version 2 of the license, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but without any warranty, without even the implied warranty of
 * merchantability or fitness for a particular purpose. See the
 * GNU General Public License (GPL) for more details.
 */

/* ########################################################### Conteneurs ### */
#apijsDialog * { margin:0; padding:0; background-clip:padding-box; background-repeat:no-repeat; }
#apijsDialog [onclick] { cursor:pointer; }

#apijsDialog {
	position:fixed; top:0; right:0; bottom:0; left:0; width:100%; height:100%; text-align:center; z-index:99000;
	background-color:transparent; opacity:0; transition:background-color 0.5s, opacity 0.5s;
	-moz-transition:background-color 0.5s, opacity 0.5s; -webkit-transition:background-color 0.5s, opacity 0.5s;
}

#apijsDialog.ready { background-color:rgba(0,0,0,0.65); opacity:1; }
#apijsDialog.end { transition-duration:0.3s; -moz-transition-duration:0.3s; -webkit-transition-duration:0.3s; pointer-events:none; }

#apijsDialog:full-screen { background-color:black; }
#apijsDialog:-moz-full-screen { background-color:black; }
#apijsDialog:-webkit-full-screen { background-color:black; }

#apijsBox {
	display:inline-block; position:relative; top:21%; padding:0.6em 0.8em 2.4em; width:26rem; min-height:9em; overflow:hidden; text-align:left;
	color:black; border-radius:0.8em; background-color:white; box-shadow:0 0 2.5em #111; opacity:0.9;
	transition:top 0.5s; -moz-transition:top 0.5s; -webkit-transition:top 0.5s;
}

#apijsBox.ready { top:23%; }
#apijsBox.end { top:26%; }

#apijsBox.photo, #apijsBox.video {
	display:block; position:absolute; top:0; right:0; bottom:0; left:0; padding:0; width:auto; min-height:inherit; text-align:center;
	border-radius:0; background-color:rgba(0,0,0,0.8); box-shadow:none; opacity:1;
	transition:none; -moz-transition:none; -webkit-transition:none;
}

#apijsBox.options, #apijsBox.upload, #apijsBox.progress, #apijsBox.debug { min-height:12.5em; }


/* ################################################################ Texte ### */
#apijsBox h1 {
	margin:0.15em 0 0.7em; padding-left:41px; height:32px; line-height:32px;
	font-size:1.5em; font-weight:bold; color:black;
	background-image:url("../images/apijs/humanity.min.svg"); background-size:32px;
	image-rendering:optimizeQuality; image-rendering:-moz-crisp-edges;
}

#apijsBox.information  h1 { background-position:0 -174px; }
#apijsBox.confirmation h1 { background-position:0 -226px; }
#apijsBox.options  h1 { background-position:0 -494px; }
#apijsBox.upload   h1 { background-position:0 -333px; }
#apijsBox.progress h1 { background-position:0 -67px; }
#apijsBox.waiting  h1 { background-position:0 -67px; }
#apijsBox.debug    h1 { background-position:0 -9px; }
#apijsBox.download h1 { background-position:0 -439px; }
#apijsBox.error    h1 { background-position:0 -121px; }
#apijsBox.print    h1 { background-position:0 -387px; }
#apijsBox.warning  h1 { background-position:0 -281px; }

#apijsBox ul { margin:-0.4em auto 1em; }
#apijsBox pre { margin:1em auto; font-size:0.7rem; line-height:140%; white-space:pre-wrap; }

#apijsBox p { margin:1em auto; font-size:1em; line-height:140%; }
#apijsBox p.reload { position:absolute; right:1em; bottom:0.7em; margin:0 0 0 1em; font-size:0.8em; color:#333; }
#apijsBox p.saving { position:absolute; left:0.8em; top:4.35em; margin:0; }

#apijsBox p.saving, #apijsBox.waiting div.bbcode p {
	animation:apijsSaving 2s infinite linear; -moz-animation:apijsSaving 2s infinite linear;
	-webkit-animation:apijsSaving 2s infinite linear;
}

#apijsBox.progress p span { position:absolute; right:1em; bottom:0.7em; }

/* &&&&&&&&&&&&&&&&&&&&&&&&& émoicônes &&& */
#apijsBox div.bbcode span.ico { vertical-align:middle; font:1.1em icomoon; text-transform:none; }

@font-face {
	/* http://icomoon.io/app/, session ../fonts/icomoon.json */
	src:url("../fonts/icomoon.ttf") format("truetype");
	font-family:icomoon; font-style:normal; font-weight:normal;
}

/* &&&&&&&&&&&&&& barre de progression &&& */
#apijsBox.progress svg {
	display:block; position:relative; margin:1.3em auto; width:80%; height:1.5em; overflow:hidden;
	border:1px solid #333; background-color:#AAA;
}

#apijsBox.progress svg rect {
	display:block; position:absolute; top:0; left:0; bottom:0;
	background-color:#03FF00; background-size:28px 100%;
	background:repeating-linear-gradient(-45deg, #03FF00 0, #03FF00 10px, #00EF00 10px, #00EF00 20px);
	background:-moz-repeating-linear-gradient(-45deg, #03FF00 0, #03FF00 10px, #00EF00 10px, #00EF00 20px);
	background:-webkit-repeating-linear-gradient(-45deg, #03FF00 0, #03FF00 10px, #00EF00 10px, #00EF00 20px);
}

#apijsBox.progress svg rect.auto {
	animation:apijsProgress 10s infinite linear; -moz-animation:apijsProgress 10s infinite linear;
	-webkit-animation:apijsProgress 10s infinite linear;
}

#apijsBox.progress svg rect.end {
	width:100%;
	animation:apijsProgress 10s infinite 3s linear; -moz-animation:apijsProgress 10s infinite 3s linear;
	-webkit-animation:apijsProgress 10s infinite 3s linear;
}


/* ############################################################## Boutons ### */
#apijsBox button, #apijsBox div .browse {
	font-size:0.85em; white-space:nowrap; cursor:pointer;
	transition:border 0.4s, background-color 0.4s, color 0.4s, opacity 0.4s;
	-moz-transition:border 0.4s, background-color 0.4s, color 0.4s, opacity 0.4s;
	-webkit-transition:border 0.4s, background-color 0.4s, color 0.4s, opacity 0.4s;
}

#apijsBox button:hover, #apijsBox button:active, #apijsBox button:focus { outline:none; }
#apijsBox button::-moz-focus-inner { border:none; }

#apijsBox div.control { position:absolute; right:0.8em; bottom:0.6em; }

#apijsBox div.control button, #apijsBox div .browse {
	padding:0 0.7em 0 26px; height:24px; line-height:24px;
	color:black; border:1px solid #BBB; border-radius:0.4em; background-color:#E2E2E2;
	background-image:url("../images/apijs/humanity.min.svg"); background-size:24px;
	image-rendering:optimizeQuality; image-rendering:-moz-crisp-edges;
}

#apijsBox div.control button.cancel  { background-position:0 -417px; float:left; margin-right:0.5em; }
#apijsBox div.control button.confirm { background-position:0 -457px; }
#apijsBox div.control .browse        { background-position:0 -497px; }

#apijsBox div.control  button:hover, #apijsBox div.control  button:active, #apijsBox div.control  button:focus,
#apijsBox div.control .browse:hover, #apijsBox div.control .browse:active, #apijsBox div.control .browse:focus {
	border-color:#777; background-color:#F6F6F6;
}

#apijsBox div.control button:focus:not(:hover), #apijsBox div.control .browse:focus:not(:hover) {
	animation:apijsFocus 1s infinite; -moz-animation:apijsFocus 1s infinite;
	-webkit-animation:apijsFocus 1s infinite;
}

#apijsBox div.control.upload { position:relative; left:0; padding:0.5em 0 0 12em; }
#apijsBox div.control.upload input { float:left; width:0; visibility:hidden; }

#apijsBox div.control.upload .browse { position:absolute; left:0; display:inline-block; cursor:pointer; outline:none; }
#apijsBox div.control.upload div.status { margin:1.6em 0 1.5em -14em; font-size:0.85em; color:red; }

#apijsBox div.control.upload span.filename {
	display:inline-block; padding-top:0.5em; vertical-align:top;
	font-size:0.85em; hyphens:auto; -moz-hyphens:auto; -ms-hyphens:auto; -webkit-hyphens:auto; word-wrap:break-word;
}


/* ############################################# Dialogues photo et vidéo ### */
/* très important le 5em (2.4em *2) qui vient de #apijsBox div.navigation button */
#apijsBox dl.media dt div.img, #apijsBox dl.media dt video {
	display:block; position:absolute; top:0; right:0; bottom:0; left:0; margin:1.6em auto 6.4em;
	width:92%; height:calc(100% - 8em); height:-moz-calc(100% - 8em); height:-webkit-calc(100% - 8em);
	max-width:calc(100% - 5em); max-width:-moz-calc(100% - 5em); max-width:-webkit-calc(100% - 5em);
}

#apijsBox dl.media dt div.img { background-position:center; image-rendering:optimizeQuality; image-rendering:-moz-crisp-edges; }
#apijsBox dl.media dt div.img.bis { background-size:contain; }

#apijsBox dl.media dd { position:absolute; right:5%; bottom:2.8em; left:5%; line-height:18px; color:#DDD; }
#apijsBox dl.media dd span { margin-right:0.6em; font-size:0.85em; color:#AAA; }

/* &&&&&&&&&&&&& chargement de l'image &&& */
#apijsBox dl.media dt div.img span { display:none; }
#apijsBox dl.media dt div.img span:first-line { font-size:2.5em; }

#apijsBox dl.media dt div.img.loading { cursor:progress; }
#apijsBox dl.media dt div.img.loading span {
	display:inline-block; position:relative; top:50%; margin-top:-5em; width:3em; height:3em;
	border-radius:50%; animation:apijsLoading 2s infinite linear 0.5s; -moz-animation:apijsLoading 2s infinite linear 0.5s;
	-webkit-animation:apijsLoading 2s infinite linear 0.5s;
}

#apijsBox dl.media dt div.img.error span {
	display:inline-block; position:relative; top:35%; width:14em; text-align:left;
	transform:rotate(-20deg); -moz-transform:rotate(-20deg); -ms-transform:rotate(-20deg); -webkit-transform:rotate(-20deg);
	font-size:1.5em; color:red; white-space:pre;
}

/* &&&&&&&&&&&&&&&&&&&&& lecteur vidéo &&& */
/* très important le 1.6em qui vient de #apijsBox dl.media dt div.img, #apijsBox dl.media dt video */
#apijsBox video[controls] + div.player { display:none; }
#apijsBox div.player { position:relative; display:block; margin:1.6em auto 0; z-index:99400; overflow:hidden; }

#apijsBox div.player div:first-child { display:block; }
#apijsBox div.player div:first-child span { display:block; font-size:6em; background-color:rgba(255, 255, 255, 0.3); }

#apijsBox div.player div:last-child { display:table; width:100%; line-height:1.65em; color:#999; }
#apijsBox div.player span { display:table-cell; text-align:center; vertical-align:middle; background-color:rgba(0,0,0, 0.7); }
#apijsBox div.player span.play { width:2.6em; font-weight:bold; }
#apijsBox div.player span.time { width:11.5em; font-size:0.85em; }
#apijsBox div.player span.vol { width:7em; }
#apijsBox div.player span.full { width:4em; }

#apijsBox div.player.error { outline:1px solid #444; background:url("../images/apijs/tv.gif") repeat center; }
#apijsBox div.player.error div { cursor:default; }
#apijsBox div.player.error div:last-child { opacity:0.6; }

#apijsBox div.player.error div:first-child span {
	padding:19% 5% 0; line-height:140%;
	font-size:inherit; color:#999; background-color:transparent;
}

#apijsBox div.player.error div:first-child a { color:#AAA; text-decoration:underline; }

/* &&&&&&&&&&&&&&&&&&&&& lecteur vidéo &&& */
#apijsBox div.player svg {
	display:block; position:relative; margin:auto; height:0.7em; overflow:hidden;
	border-radius:0.4em; background-color:#222; opacity:0.8;
}

#apijsBox div.player svg rect { display:block; position:absolute; top:0; left:0; bottom:0; z-index:99460; background-color:#999; }

#apijsBox div.player svg.bar rect.buffer { background-color:#444; z-index:99440; }
#apijsBox div.player svg.vol rect { width:100%; }

/* &&&&&&&&&&&&& boutons de navigation &&& */
#apijsBox div.navigation button {
	position:absolute; top:0; bottom:0; padding:0 0 2.5%; width:3%; min-width:2.4em;
	color:#DDD; border:none; background-color:#222; opacity:0.6;
}

#apijsBox div.navigation button[disabled] { display:none; }
#apijsBox div.navigation button:hover, #apijsBox div.navigation button:active, #apijsBox div.navigation button:focus { opacity:1; }

#apijsBox div.navigation button.prev { left:0; }
#apijsBox div.navigation button.prev span {
	display:block;
	transform:rotate(-90deg); -moz-transform:rotate(-90deg); -ms-transform:rotate(-90deg); -webkit-transform:rotate(-90deg);
}

#apijsBox div.navigation button.next { right:0; }
#apijsBox div.navigation button.next span {
	display:block;
	transform:rotate(90deg); -moz-transform:rotate(90deg); -ms-transform:rotate(90deg); -webkit-transform:rotate(90deg);
}

/* &&&&&&&&&&&&&&& bouton de fermeture &&& */
#apijsBox div.close { position:absolute; top:0.6em; right:0.6em; z-index:99600; }

#apijsBox div.close.txt button {
	padding:0 0.7em; min-height:20px;
	font-size:0.8em; line-height:190%; font-weight:bold; text-transform:uppercase;
	color:white; border:2px solid white; border-radius:0.8em; background-color:black; opacity:0.6;
}

#apijsBox div.close.txt button:after { content:" / X"; }
#apijsBox div.close.txt button:hover, #apijsBox div.close.txt button:active, #apijsBox div.close.txt button:focus { opacity:1; }

#apijsBox div.close.img button { border:none; background:none; }
#apijsBox div.close.img button img { font-size:0.7em; color:#999; }

/* &&&&&&&&&&&&& navigation au clavier &&& */
#apijsBox div.kbd {
	position:fixed; right:0; bottom:0; left:0; overflow:hidden; z-index:99600;
	white-space:nowrap; background-color:#555; cursor:default;
}

#apijsBox div.kbd ul { margin:0; list-style:none; }
#apijsBox div.kbd ul li { display:inline-block; margin:0.1em 0 0.15em; font-size:0.8em; line-height:200%; }

#apijsBox kbd {
	display:inline; margin:0 0.4em 0 1em; padding:0.1em 0.25em 0.1em 0.3em;
	font-size:1.1em; font-weight:bold; text-transform:uppercase; cursor:default;
	border:none; border-radius:0.6em; background-color:#888;
}

#apijsBox kbd + kbd { margin:0 0.4em 0 -0.2em; }
#apijsBox kbd[class] { padding:0.1em 8px; background-position:center; }

#apijsBox kbd.bot { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAIUjANwi8qWHnQvnoSz0vhqlkmWUQAAOw=="); }
#apijsBox kbd.top { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAIUjANwm7nYnIkR0sbUm3pL3z1fUAAAOw=="); }
#apijsBox kbd.left { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAITjAOnmMutgIRm2ovlo2e6ykVLAQA7"); }
#apijsBox kbd.right { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAIRjA2nmMu9gEyz2ivjdJvDqBQAOw==");}
#apijsBox kbd.start { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAITjI8By3C9EExTVhNVVtYl7H1HAQA7");}
#apijsBox kbd.less { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAIMjI+pywkPn4mx2XsLADs="); }
#apijsBox kbd.more { background-image:url("data:image/gif;base64,R0lGODlhCgAKAIABAAAAAP///yH5BAEKAAEALAAAAAAKAAoAAAIRjI8IkLdtnlpU1ppk05nBVgAAOw==");}


/* ########################################################### Animations ### */
@keyframes         apijsSaving { 40% { color:#CCC; } }
@-moz-keyframes    apijsSaving { 40% { color:#CCC; } }
@-webkit-keyframes apijsSaving { 40% { color:#CCC; } }

@keyframes         apijsProgress { 0% { width:20%; } 50% { left:80%; } 100% { width:20%; } }
@-moz-keyframes    apijsProgress { 0% { width:20%; } 50% { left:80%; } 100% { width:20%; } }
@-webkit-keyframes apijsProgress { 0% { width:20%; } 50% { left:80%; } 100% { width:20%; } }

@keyframes         apijsFocus { 50% { border-color:#BBB; } }
@-moz-keyframes    apijsFocus { 50% { border-color:#BBB; } }
@-webkit-keyframes apijsFocus { 50% { border-color:#BBB; } }

@keyframes         apijsLoading { 30% { width:4em; background-color:#888; } }
@-moz-keyframes    apijsLoading { 30% { width:4em; background-color:#888; } }
@-webkit-keyframes apijsLoading { 30% { width:4em; background-color:#888; } }


/* ######################################################## Media queries ### **
 * max-width = #apijsBox.width (26rem) + 6
 */
@media screen and (max-width:32rem),(max-device-width:32rem) {

	#apijsDialog, #apijsBox { transition:none; -moz-transition:none; -webkit-transition:none; }
	#apijsBox:not(.photo):not(.video) { position:absolute; top:1.5em; left:1em; bottom:2em; right:1em; width:auto; min-height:inherit; }

	#apijsBox h1 { padding-left:51px; height:42px; line-height:42px; font-size:1.7em; background-size:42px; }
	#apijsBox.information  h1 { background-position:0 -228px; } /* de 32 à 42 = x1,3125 */
	#apijsBox.confirmation h1 { background-position:0 -296px; }
	#apijsBox.options  h1 { background-position:0 -648px; }
	#apijsBox.upload   h1 { background-position:0 -437px; }
	#apijsBox.progress h1 { background-position:0 -87px; }
	#apijsBox.waiting  h1 { background-position:0 -87px; }
	#apijsBox.debug    h1 { background-position:0 -11px; }
	#apijsBox.download h1 { background-position:0 -576px; }
	#apijsBox.error    h1 { background-position:0 -158px; }
	#apijsBox.print    h1 { background-position:0 -507px; }
	#apijsBox.warning  h1 { background-position:0 -368px; }

	#apijsBox p.reload { font-size:inherit; }
	#apijsBox p.saving, #apijsBox.waiting div.bbcode p { font-size:1.2em; }

	#apijsBox div.control button, #apijsBox div.control .browse { padding:0 0.8em 0 37px; height:36px; font-size:1.3em; background-size:36px; }
	#apijsBox div.control button.cancel  { background-position:0 -625px; } /* de 24 à 36 = x1,5 */
	#apijsBox div.control button.confirm { background-position:0 -685px; }
	#apijsBox div.control .browse        { background-position:0 -745px; }

	#apijsBox div.control.upload { padding:1em 0 0; }
	#apijsBox div.control.upload div.status { margin:1em 0; font-size:1em; }
	#apijsBox div.control.upload span.filename { float:inherit; display:block; padding-top:4em; width:auto; font-size:1.1em; }

	#apijsBox div.navigation.txt button { font-size:0.95em; }
}